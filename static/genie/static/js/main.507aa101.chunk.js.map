{"version":3,"sources":["static/img/genie_logo.png","static/img/synergylog_noletter_trans.png","static/img/mesllogo_noletter_trans.png","static/img/CSELogo_globe_color_trans.png","static/img/ucsd-logo.png","client/components/BrickApi.js","client/Contactpage.js","client/Homepage.jsx","client/components/Header/Header.js","client/components/LeftMenu/LeftMenu.js","config.js","client/components/TopMenu/MyMenu.js","client/components/TopMenu/TopMenu.js","client/components/Search/Search.js","client/components/DateWeather/DateWeather.js","client/components/Segment/EnvInfo.js","client/components/Segment/HVACCtl.js","client/components/Meter/Meter.js","client/Dashboard.js","client/components/Account/Account.js","client/Mainpage.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","getToken","user_token","eval","window","sessionStorage","getItem","now","Date","getBrickHeaders","Authorization","d","__webpack_exports__","Contact","state","modalOpen","handleOpen","_this","setState","handleClose","react_default","a","createElement","Modal","dimmer","open","this","props","onClose","basic","size","Header_Header","icon","content","Content","href","style","color","Actions","Button","onClick","inverted","Icon","name","Component","HomepageHeading","_ref","mobile","Container","text","as","marginTop","Image","src","logo","width","height","fontSize","fontWeight","marginBottom","react_router_dom","to","AboutpageHeading","_ref2","DesktopContainer","activeItem","redirect","setRedirect","renderRedirect","react_router","hideFixedMenu","fixed","showFixedMenu","_this2","children","_this$state","contact","about","heading","Homepage_AboutpageHeading","Homepage_HomepageHeading","Responsive","minWidth","onlyTablet","Visibility","once","onBottomPassed","onBottomPassedReverse","Segment","className","textAlign","minHeight","padding","vertical","Menu","pointing","secondary","borderWidth","Item","active","position","Contactpage_Contact","MobileContainer","_this3","handlePusherClick","sidebarOpened","handleToggle","_this4","_this$state2","maxWidth","onlyMobile","Sidebar","Pushable","animation","visible","Pusher","dimmed","ResponsiveContainer","_ref3","Homepage_DesktopContainer","Homepage_MobileContainer","HomepageLayout","Homepage_ResponsiveContainer","Grid","container","stackable","verticalAlign","Row","Column","fontFamily","paddingBottom","Card","image","synergy_logo","mesl_logo","cse_logo","ucsd_logo","backgroundColor","floated","List","Header","menu","home","SubMenu","subMenu","submenu","map","key","es","LeftMenu","Object","classCallCheck","_super2","call","activeMenu","client_components_Header_Header","item","submenus","switchAccount","LeftMenu_SubMenu","BASE_API_URL","MyPage","redir","switchPage","e","value","localStorage","clear","axios","get","then","renderRedir","options","user","disabled","Dropdown","trigger","onChange","TopMenu","handleItemClick","iconStyle","margin","postion","MyMenu","user_email","params","data","headers","res","Dashboard","openSearch","collegeOptions","campusOptions","buildingOptions","roomOptions","rooms","JSON","parse","option","room","collegeOption","college","campusOption","campus","buildingOption","building","roomOption","includes","push","prevProps","prevState","getRoom","nextProps","nextState","setItem","stringify","_this$props","onAddItem","onRemoveItem","changeBuilding","changeCampus","changeCollege","changeRoom","message","table","index","Breadcrumb","sections","link","marginLeft","compact","marginRight","placeholder","clearable","search","selection","Divider","paddingTop","animated","divided","DateWeather","fluid","lib_default","format","ticking","WarningObject","title","raised","Message","negative","SegmentObject","label","labels","progress","dist_default","labelColor","barColor","seperatorColor","Statistic","horizontal","Value","SegmentComponent","context","_super","energy_value","temperature_value","energy_error","temperature_error","get_energy_usage","bind","assertThisInitialized","get_room_temperature","roomkey","resp","console","log","toFixed","intervalId","setInterval","get_statuses","user_id","energy_progress","temperature_progress","mobile_labels","EnergyPanel","EnvInfo_WarningObject","EnvInfo_SegmentObject","TemperaturePanel","msg","handleChangeTemp","index_esm","styles","track","axis","xmin","xmax","xstep","x","SwitchObject","_ref4","toggleStatus","loading","labelPosition","status","set_status","toString","temperature","_this$props2","set_temp_setpoint","status_error","setpoint_error","get_status","get_temp_setpoint","status_code","numStatus","post","catch","error","temp","response","_this$props3","get_ctrls","StatusPanel","SetpointPanel","HVACCtl_WarningObject","HVACCtl_SwitchObject","HVACCtl_SegmentObject","Meter","openMeter","control","columns","EnvInfo","HVACCtl","Group","updateOptions","length","attached","warning","components_DateWeather_DateWeather","Search_Search","components_Meter_Meter","Account","Form","Field","Checkbox","type","account","main","components_Account_Account","client_Dashboard","components_TopMenu_TopMenu","components_LeftMenu_LeftMenu","Mainpage_DesktopContainer","Mainpage_MobileContainer","Main","sessionGet","stringValue","expirationDate","removeItem","sessionSet","expirationInMin","arguments","undefined","newValue","getTime","toISOString","loginRedirect","objectSpread","_ref5","some","o","i","filter","j","Mainpage_ResponsiveContainer","App","token","URL","document","location","searchParams","exact","path","component","Home","history","createHashHistory","ReactDOM","render","CookiesProvider","src_App_0","getElementById"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,kFCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wNCGjC,SAASC,WACd,IAAIC,WAAaC,KAAK,IAAMC,OAAOC,eAAeC,QAAQ,cAAgB,KACtEC,IAAM,IAAIC,KACd,GAAI,IAAIA,KAAKN,WAAU,gBAAsBK,IACzC,KAAM,yBAEV,OAAOL,WAAU,MAIZ,SAASO,kBAKd,MAHc,CACVC,cAAiB,UAFTN,OAAOC,eAAeC,QAAQ,UAd5CP,oBAAAY,EAAAC,oBAAA,sBAAAH,6hCCGqBI,oMACnBC,MAAQ,CAAEC,WAAW,KAErBC,WAAa,kBAAMC,EAAKC,SAAS,CAAEH,WAAW,OAE9CI,YAAc,kBAAMF,EAAKC,SAAS,CAAEH,WAAW,4DAG7C,OACEK,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEC,QAAQ,EACRC,KAAMC,KAAKC,MAAMF,KACjBG,QAASF,KAAKC,MAAMC,QACpBC,OAAK,EACLC,KAAK,SAELV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQC,KAAK,eAAeC,QAAQ,eACpCb,EAAAC,EAAAC,cAACC,EAAA,EAAMW,QAAP,KACEd,EAAAC,EAAAC,cAAA,iDAAwCF,EAAAC,EAAAC,cAAA,KAAGa,KAAK,4BAA4BC,MAAO,CAACC,MAAO,eAAnD,YAAxC,MAEFjB,EAAAC,EAAAC,cAACC,EAAA,EAAMe,QAAP,KACElB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQC,QAASd,KAAKC,MAAMC,QAASa,UAAQ,GAC3CrB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,cADb,UAGAvB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQF,MAAM,QAAQF,KAAK,4BAA4BK,QAASd,KAAKC,MAAMC,QAASa,UAAQ,GAA5F,WACUrB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,0BAzBMC,6cCiCrC,IAAMC,EAAkB,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,OAAH,OACtB3B,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAWC,MAAI,GACb7B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,GAAG,KACHT,UAAQ,EACRL,MAAO,CACLe,UAAWJ,EAAS,MAAQ,QAG9B3B,EAAAC,EAAAC,cAAC8B,EAAA,EAAD,CAAOC,IAAKC,IAAMlB,MAAO,CACvBmB,MAAOR,EAAS,QAAU,MAC1BS,OAAQT,EAAS,QAAU,SAE7B3B,EAAAC,EAAAC,cAACS,EAAA,EAAOG,QAAR,CAAgBE,MAAO,CACnBqB,SAAUV,EAAS,QAAU,MAC7BW,WAAY,WAFhB,UAMFtC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,GAAG,KACHjB,QAAQ,sCACRQ,UAAQ,EACRL,MAAO,CACLe,UAAWJ,EAAS,QAAU,MAC9BY,aAAcZ,EAAS,MAAQ,MAC/BU,SAAUV,EAAS,MAAQ,MAC3BW,WAAY,YAGhBtC,EAAAC,EAAAC,cAACsC,EAAA,EAAD,CAAMC,GAAI,SACRzC,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQV,OAAK,EAACY,UAAQ,EAACX,KAAK,QAA5B,cAEEV,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,oBAMbmB,EAAmB,SAAAC,GAAA,IAAGhB,EAAHgB,EAAGhB,OAAH,OACvB3B,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,CAAWC,MAAI,GACb7B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,GAAG,KACHT,UAAQ,EACRL,MAAO,CACLe,UAAWJ,EAAS,MAAQ,QAG9B3B,EAAAC,EAAAC,cAAC8B,EAAA,EAAD,CAAOC,IAAKC,IAAMlB,MAAO,CACvBmB,MAAOR,EAAS,QAAU,MAC1BS,OAAQT,EAAS,QAAU,SAE7B3B,EAAAC,EAAAC,cAACS,EAAA,EAAOG,QAAR,CAAgBE,MAAO,CACnBqB,SAAUV,EAAS,QAAU,MAC7BW,WAAY,WAFhB,UAMFtC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,GAAG,KACHjB,QAAQ,qBACRQ,UAAQ,EACRL,MAAO,CACLqB,SAAUV,EAAS,MAAQ,MAC3BW,WAAY,YAGhBtC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEmB,GAAG,KACHjB,QAAQ,8mBAURQ,UAAQ,EACRL,MAAO,CACLe,UAAWJ,EAAS,QAAU,MAC9BY,aAAcZ,EAAS,MAAQ,MAC/BU,SAAUV,EAAS,OAAS,OAC5BW,WAAY,YAGhBtC,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQJ,KAAK,8BAA8BN,OAAK,EAACY,UAAQ,EAACX,KAAK,QAA/D,oBAcEkC,oMACJlD,MAAQ,CACNmD,WAAY,OACZC,UAAU,KAIZC,YAAc,WACZlD,EAAKC,SAAS,CACZgD,UAAU,OAIdE,eAAiB,WACf,GAAInD,EAAKH,MAAMoD,SACb,OAAO9C,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAUR,GAAG,cAIxBS,cAAgB,kBAAMrD,EAAKC,SAAS,CAAEqD,OAAO,OAC7CC,cAAgB,kBAAMvD,EAAKC,SAAS,CAAEqD,OAAO,4DAEpC,IAAAE,EAAA/C,KACCgD,EAAahD,KAAKC,MAAlB+C,SADDC,EAEuCjD,KAAKZ,MAA3CyD,EAFDI,EAECJ,MAAOK,EAFRD,EAEQC,QAASC,EAFjBF,EAEiBE,MAAOZ,EAFxBU,EAEwBV,WACzBa,EAAWD,EAASzD,EAAAC,EAAAC,cAACyD,EAAD,MAAuB3D,EAAAC,EAAAC,cAAC0D,EAAD,MAEjD,OACE5D,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAYC,SAAUD,IAAWE,WAAWD,UAChDxD,KAAK0C,iBACChD,EAAAC,EAAAC,cAAC8D,EAAA,EAAD,CACEC,MAAM,EACNC,eAAgB5D,KAAK8C,cACrBe,sBAAuB7D,KAAK4C,eAE5BlD,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEC,UAAU,gBACVhD,UAAQ,EACRiD,UAAU,SACVtD,MAAO,CAAEuD,UAAW,IAAKC,QAAS,WAClCC,UAAQ,GAERzE,EAAAC,EAAAC,cAACwE,EAAA,EAAD,CACEvB,MAAOA,EAAQ,MAAQ,KACvB9B,UAAW8B,EACXwB,UAAWxB,EACXyB,WAAYzB,EACZzC,KAAK,QACLM,MAAO,CACL6D,YAAa,IAGf7E,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,KACE5B,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,OAAOO,GAAG,IAAIV,QAAS,kBAAMiC,EAAKvD,SAAS,CAAC2D,OAAO,EAAOZ,WAAY,UAAUkC,OAAuB,SAAflC,GAAxG,QAGA7C,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,UAAUO,GAAG,IAAIV,QAAS,kBAAMiC,EAAKvD,SAAS,CAAC0D,SAAS,EAAMC,OAAO,EAAOZ,WAAY,aAAakC,OAAuB,YAAflC,GAA7H,WAGA7C,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,QAAQO,GAAG,IAAIV,QAAS,kBAAMiC,EAAKvD,SAAS,CAAC2D,OAAO,EAAMZ,WAAY,WAAWkC,OAAuB,UAAflC,GAAzG,SAGA7C,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWE,SAAS,SAClBhF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQW,GAAG,IAAIT,UAAW8B,EAAO/B,QAASd,KAAKyC,aAA/C,aAMLW,IAGJJ,EACDtD,EAAAC,EAAAC,cAAC+E,EAAD,CAAS5E,KAAMmD,EAAShD,QAAS,kBAAM6C,EAAKvD,SAAS,CAAC0D,SAAS,EAAOC,OAAO,eAzEtDjC,aAoFzB0D,oMACJxF,MAAQ,CACNmD,WAAY,OACZC,UAAU,KAIZC,YAAc,WACZoC,EAAKrF,SAAS,CACZgD,UAAU,OAIdE,eAAiB,WACf,GAAImC,EAAKzF,MAAMoD,SACb,OAAO9C,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAUR,GAAG,cAIxB2C,kBAAoB,WACQD,EAAKzF,MAAvB2F,eAEWF,EAAKrF,SAAS,CAAEuF,eAAe,OAGpDC,aAAe,kBACbH,EAAKrF,SAAS,CAAEuF,eAAgBF,EAAKzF,MAAM2F,wEAEpC,IAAAE,EAAAjF,KACCgD,EAAahD,KAAKC,MAAlB+C,SACA+B,EAAkB/E,KAAKZ,MAAvB2F,cAFDG,EAGgClF,KAAKZ,MAApC8D,EAHDgC,EAGChC,QAASC,EAHV+B,EAGU/B,MAAOZ,EAHjB2C,EAGiB3C,WAClBa,EAAWD,EAASzD,EAAAC,EAAAC,cAACyD,EAAD,CAAkBhC,QAAM,IAAM3B,EAAAC,EAAAC,cAAC0D,EAAD,CAAiBjC,QAAM,IAE/E,OACE3B,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY4B,SAAU5B,IAAW6B,WAAWD,UAChDnF,KAAK0C,iBACChD,EAAAC,EAAAC,cAACyF,EAAA,EAAQC,SAAT,KACE5F,EAAAC,EAAAC,cAACyF,EAAA,EAAD,CACE7D,GAAI4C,IACJmB,UAAU,UACVpB,UAAQ,EACRqB,QAAST,GAETrF,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,OAAOO,GAAG,IACxBV,QAAS,kBAAMmE,EAAKzF,SAAS,CAAC2D,OAAO,EAAOZ,WAAY,OACxDwC,eAAgBE,EAAK7F,MAAM2F,iBAAiBN,OAAuB,SAAflC,GAFtD,QAKA7C,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,UAAUO,GAAG,IAC3BV,QAAS,kBAAMmE,EAAKzF,SAAS,CAAC0D,SAAS,EAAMC,OAAO,EAAOZ,WAAY,UACvEwC,eAAgBE,EAAK7F,MAAM2F,iBAAiBN,OAAuB,YAAflC,GAFtD,WAKA7C,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWvD,KAAK,QAAQO,GAAG,IACzBV,QAAS,kBAAMmE,EAAKzF,SAAS,CAAC2D,OAAO,EAAMZ,WAAY,QACvDwC,eAAgBE,EAAK7F,MAAM2F,iBAAiBN,OAAuB,UAAflC,GAFtD,UAOF7C,EAAAC,EAAAC,cAACyF,EAAA,EAAQI,OAAT,CACEC,OAAQX,EACRjE,QAASd,KAAK8E,kBACdpE,MAAO,CAAEuD,UAAW,UAEpBvE,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEC,UAAU,gBACVhD,UAAQ,EACRiD,UAAU,SACVtD,MAAO,CAAEuD,UAAW,IAAKC,QAAS,WAClCC,UAAQ,GAERzE,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,KACE5B,EAAAC,EAAAC,cAACwE,EAAA,EAAD,CAAMrD,UAAQ,EAACsD,UAAQ,EAACC,WAAS,EAAClE,KAAK,QAAQM,MAAO,CACpD6D,YAAa,IAEb7E,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAW1D,QAASd,KAAKgF,cACvBtF,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,aAEbvB,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWE,SAAS,SAClBhF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQW,GAAG,IAAIT,UAAQ,EAACD,QAASd,KAAKyC,aAAtC,aAMLW,GAGFJ,EACDtD,EAAAC,EAAAC,cAAC+E,EAAD,CAAS5E,KAAMmD,EAAShD,QAAS,kBAAM+E,EAAKzF,SAAS,CAAC0D,SAAS,EAAOC,OAAO,iBA3F3DjC,aAuGxByE,EAAsB,SAAAC,GAAA,IAAG5C,EAAH4C,EAAG5C,SAAH,OAC1BtD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACiG,EAAD,KAAmB7C,GACnBtD,EAAAC,EAAAC,cAACkG,EAAD,KAAkB9C,KA+HP+C,+JArHX,OACErG,EAAAC,EAAAC,cAACoG,EAAD,KACEtG,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAASpD,MAAO,CAAEwD,QAAS,WAAaC,UAAQ,GAC9CzE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,WAAS,EAACC,WAAS,EAACC,cAAc,UACtC1G,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACE3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAA,UAAQc,MAAO,CAAEqB,SAAU,MAC3BwE,WAAY,mDACZvE,WAAY,SACZrB,MAAO,kBACP6F,cAAe,SAJf,yBAOA9G,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,WAAS,GACbxG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACE3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAA,KAAGa,KAAK,4BACNf,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CACE1C,UAAW,QACX2C,MAAOC,IACPjG,MAAO,CAACsD,UAAW,cAIzBtE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAA,KAAGa,KAAK,4BACNf,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CACE1C,UAAW,QACX2C,MAAOE,IACPlG,MAAO,CAACsD,UAAW,cAIzBtE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAA,KAAGa,KAAK,wBACNf,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CACE1C,UAAW,QACX2C,MAAOG,IACPnG,MAAO,CAACsD,UAAW,cAIzBtE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAA,KAAGa,KAAK,oBACNf,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CACE1C,UAAW,QACX2C,MAAOI,IACPpG,MAAO,CAACsD,UAAW,SAAU+C,gBAAiB,gBAO1DrH,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAaU,QAAQ,QAAQnF,MAAO,GAClCnC,EAAAC,EAAAC,cAAA,UAAQc,MAAO,CAAEqB,SAAU,MAC3BwE,WAAY,mDACZvE,WAAY,SACZrB,MAAO,kBACP6F,cAAe,SAJf,iBAOA9G,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMvG,MAAO,CAAEqB,SAAU,SACzBwE,WAAY,mDACZvE,WAAY,WACVtC,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,KACE9E,EAAAC,EAAAC,cAAA,KAAGa,KAAK,2CAAR,kCAIFf,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,KACE9E,EAAAC,EAAAC,cAAA,KAAGa,KAAK,6BAAR,iCAIFf,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,KACE9E,EAAAC,EAAAC,cAAA,KAAGa,KAAK,2BAAR,qBAIFf,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,KACE9E,EAAAC,EAAAC,cAAA,KAAGa,KAAK,2BAAR,yCAIFf,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,KACE9E,EAAAC,EAAAC,cAAA,KAAGa,KAAK,4BAAR,sBASZf,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAAS/C,UAAQ,EAACoD,UAAQ,EAACH,UAAU,SAAStD,MAAO,CAAEwD,QAAS,WAAaH,UAAU,iBACrFrE,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,KACE5B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQmB,GAAG,KAAKT,UAAQ,EACxBL,MAAO,CACL6F,WAAY,mDACZvE,WAAY,WAHd,0HAOAtC,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQmB,GAAG,KAAKT,UAAQ,EACxBL,MAAO,CACL6F,WAAY,mDACZvE,WAAY,WAHd,uFA1GiBd,kfC1TdgG,+JAhBX,IAAMC,EAAOnH,KAAKC,MAAMkH,KAClBC,EAAOpH,KAAKC,MAAMmH,KACxB,OACE1H,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,oBACbrE,EAAAC,EAAAC,cAAA,MAAImE,UAAU,cAAcoD,GAC5BzH,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,cACbrE,EAAAC,EAAAC,cAAA,UACGwH,EACAD,YAVQjG,wdCGfmG,+JAEF,IAAIC,EAAUtH,KAAKC,MAAMsH,QAEzB,OAAgB,OAAZD,EAEA5H,EAAAC,EAAAC,cAAA,WACG0H,EAAQE,IAAI,SAAAD,GACX,OACE7H,EAAAC,EAAAC,cAAA,OAAK6H,IAAKF,EAAQtG,KAAM8C,UAAU,YAChCrE,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CAAMvF,GAAIoF,EAAQtG,MAChBvB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,OAAOb,KAAK,UACvBV,EAAAC,EAAAC,cAAA,YAAO2H,EAAQtG,WAQpBvB,EAAAC,EAAAC,cAAA,mBApBSsB,aA0FPyG,2CAhEb,SAAAA,EAAY1H,GAAO,IAAAV,EAAA,OAAAqI,OAAAC,EAAA,EAAAD,CAAA5H,KAAA2H,IACjBpI,EAAAuI,EAAAC,KAAA/H,KAAMC,IACDb,MAAQ,CACX4I,WAAY,aAHGzI,uDAOV,IAAAwD,EAAA/C,KAYP,OACEN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqI,EAAD,MACAvI,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,cAdL,CACZ,CACE9C,KAAM,YACNX,KAAM,SAER,CACEW,KAAM,UACNX,KAAM,SAQGkH,IAAI,SAAAU,GACT,OAAIA,EAAKC,SAELzI,EAAAC,EAAAC,cAAA,OAAK6H,IAAKS,EAAKjH,KACb8C,UAAWhB,EAAK3D,MAAM4I,aAAeE,EAAKjH,KAAO,cAAgB,OACjEH,QAAS,WACPiC,EAAKvD,SAAS,CAAEwI,WAAYE,EAAKjH,OACjC8B,EAAK9C,MAAMmI,cAA4B,YAAdF,EAAKjH,QAG9BvB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMiH,EAAK5H,KAAMF,KAAK,UAC5BV,EAAAC,EAAAC,cAAA,YAAOsI,EAAKjH,MACZvB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAM8B,EAAK3D,MAAM4I,aAAeE,EAAKjH,KAAO,WAAa,eACjEvB,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,IACbrE,EAAAC,EAAAC,cAAA,OAAKmE,UAAY,uBACZhB,EAAK3D,MAAM4I,aAAeE,EAAKjH,KAAO,SAAW,KACpDvB,EAAAC,EAAAC,cAACyI,EAAD,CAASd,QAASW,EAAKC,SAAUhB,KAAMe,OAO7CxI,EAAAC,EAAAC,cAAA,OAAKqB,KAAMiH,EAAKjH,KAAMwG,IAAKS,EAAKjH,KAC9B8C,UAAWhB,EAAK3D,MAAM4I,aAAeE,EAAKjH,KAAO,cAAgB,OACjEH,QAAS,WACPiC,EAAKvD,SAAS,CAAEwI,WAAYE,EAAKjH,OACjC8B,EAAK9C,MAAMmI,cAA4B,YAAdF,EAAKjH,QAGhCvB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMiH,EAAK5H,KAAMF,KAAK,UAC5BV,EAAAC,EAAAC,cAAA,YAAOsI,EAAKjH,kBAvDPC,gCC9BVoH,GAAe,+fCwDbC,sMAjDbnJ,MAAQ,CACNoJ,OAAO,KAGTC,WAAa,SAACC,EAADtH,GAAgB,IAAXuH,EAAWvH,EAAXuH,MACH,YAAVA,EACDpJ,EAAKU,MAAMmI,eAAc,GAET,aAAVO,IACNC,aAAaC,QACblK,eAAekK,QACfC,IAAMC,IAAIT,GAAa,eACpBU,KAAK,WACZzJ,EAAKC,SAAS,CAAEgJ,OAAO,UAKvBS,YAAc,WACZ,GAAI1J,EAAKH,MAAMoJ,MACb,OAAO9I,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAUR,GAAG,8DAKtB,IAAM+G,EAAU,CACd,CACEzB,IAAK,OACLkB,MAAO,OACPpH,KACE7B,EAAAC,EAAAC,cAAA,4BACeF,EAAAC,EAAAC,cAAA,cAASI,KAAKC,MAAMkJ,OAGrCC,UAAU,GAEZ,CAAE3B,IAAK,UAAWkB,MAAO,UAAWpH,KAAM,gBAC1C,CAAEkG,IAAK,WAAYkB,MAAO,WAAYpH,KAAM,aAG9C,OACH7B,EAAAC,EAAAC,cAAA,WACGI,KAAKiJ,cACCvJ,EAAAC,EAAAC,cAACyJ,GAAA,EAAD,CAAUC,QAAStJ,KAAKC,MAAMqJ,QAASJ,QAASA,EAASK,SAAUvJ,KAAKyI,qBA5C7DvH,ydC0FNsI,sMAtFbpK,MAAQ,CAAEmD,WAAY,OAAQ4G,KAAM,UAEpCM,gBAAkB,SAACf,EAADtH,GAAA,IAAMH,EAANG,EAAMH,KAAN,OAAiB1B,EAAKC,SAAS,CAAE+C,WAAYtB,4DAoCtD,IAAA8B,EAAA/C,KAAAiD,EACsBjD,KAAKZ,MAA1BmD,EADDU,EACCV,WAAY4G,EADblG,EACakG,KAEhBO,EAAY,CACdC,OAAQ,cAGJL,EACJ5J,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,OAAOb,KAAK,QAAQM,MAAOgJ,IADxC,IACuDP,GAGzD,OACEzJ,EAAAC,EAAAC,cAACwE,EAAA,EAAD,CAAMC,UAAQ,EAACC,WAAS,EAACP,UAAU,YACjCrE,EAAAC,EAAAC,cAACwE,EAAA,EAAKA,KAAN,CAAWwF,QAAQ,OAAO7F,UAAU,aAClCrE,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CAAWE,SAAS,QAClBhF,EAAAC,EAAAC,cAAC8H,EAAA,EAAD,CAAMvF,GAAG,aAAT,WAIJzC,EAAAC,EAAAC,cAACwE,EAAA,EAAKA,KAAN,CAAWL,UAAU,eACnBrE,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CACEvD,KAAK,OACLH,QAAS,WACPiC,EAAKvD,SAAS,CAAE+C,WAAY,SAC5BQ,EAAK9C,MAAMmI,eAAc,IAE3B3D,OAAuB,SAAflC,GAER7C,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,QAAQb,KAAK,QAAQM,MAAOgJ,IACvChK,EAAAC,EAAAC,cAAA,2BAIJF,EAAAC,EAAAC,cAACwE,EAAA,EAAKA,KAAN,CAAWL,UAAU,cACnBrE,EAAAC,EAAAC,cAACwE,EAAA,EAAKI,KAAN,CACEvD,KAAK,UACLH,QAASd,KAAKyJ,gBACdhF,OAAuB,YAAflC,GAER7C,EAAAC,EAAAC,cAACiK,GAAD,CAAQP,QAASA,EAASlB,cAAepI,KAAKC,MAAMmI,cAAee,KAAMA,0DA1EnDlJ,EAAOb,GAAO,IACrC0K,EAAc7J,EAAd6J,WACP,GAAiB,MAAdA,EAAoB,CACrB,GAAGA,IAAe1K,EAAM0K,WAyBvB,OAAO,KAxBbhB,IAAMC,IAAIT,GAAa,YAAa,CAChCyB,OAAQ,CACPD,WAAYA,EAAWE,MAEvBC,QAASlL,iBAETiK,KAAK,SAAAkB,GACT,OAAU,MAAPA,GACgB,MAAZA,EAAIF,MACiB,MAArBE,EAAIF,KAAJ,MACI,CACLb,KAAMe,EAAIF,KAAJ,MACNF,WAAYA,GAIP,CACLX,KAAM,OACNW,WAAYA,KAShB,OAAO,YApCW5I,ggBCkKPiJ,sMAnKb/K,MAAQ,CACNgL,YAAY,EACZC,eAAgB,GAChBC,cAAe,GACfC,gBAAiB,GACjBC,YAAa,GACbC,MAAO,uEAIP7B,aAAahK,QAAQ,eAAiBoB,KAAKR,SAAS,CAClD4K,WAAYM,KAAKC,MAAM/B,aAAahK,QAAQ,sDAInCgM,GACX,MAAO,CAACnD,IAAKmD,EAAQjC,MAAOiC,EAAQrJ,KAAMqJ,qCAkBlC,IAAA7H,EAAA/C,KACR8I,IAAMC,IAAIT,GAAe,YAAa,CAIpC2B,QAASlL,iBAERiK,KAAK,SAAAkB,GACJ,GAAW,MAAPA,EAAa,CACf,IAAMO,EAAQP,EAAIF,KAClBjH,EAAKvD,SAAS,CAACiL,UACfA,EAAK,MAAUjD,IAAI,SAACqD,GAClB,IAAMC,EAAgB,CAACrD,IAAKoD,EAAKE,QAASpC,MAAOkC,EAAKE,QAASxJ,KAAMsJ,EAAKE,SACpEC,EAAe,CAACvD,IAAKoD,EAAKI,OAAQtC,MAAOkC,EAAKI,OAAQ1J,KAAMsJ,EAAKI,QACjEC,EAAiB,CAACzD,IAAKoD,EAAKM,SAAUxC,MAAOkC,EAAKM,SAAU5J,KAAMsJ,EAAKM,UACvEC,EAAa,CAAC3D,IAAKoD,EAAKA,KAAMlC,MAAOkC,EAAKA,KAAMtJ,KAAMsJ,EAAKA,MACjE9H,EAAKvD,SACH,SAAAJ,GAaE,OAZKA,EAAMiL,eAAegB,SAASP,IACjC1L,EAAMiL,eAAeiB,KAAKR,GACvB1L,EAAMkL,cAAce,SAASL,IAChC5L,EAAMkL,cAAcgB,KAAKN,GACtB5L,EAAMmL,gBAAgBc,SAASH,IAClC9L,EAAMmL,gBAAgBe,KAAKJ,GACxB9L,EAAMoL,YAAYa,SAASD,IAC9BhM,EAAMoL,YAAYc,KAAKF,GAKlB,CACLf,eALqBjL,EAAMiL,eAM3BC,cALoBlL,EAAMkL,cAM1BC,gBALsBnL,EAAMmL,gBAM5BC,YALkBpL,EAAMoL,+DAcrBe,EAAWC,GACxBxL,KAAKC,MAAM6J,aAAeyB,EAAUzB,YACtC9J,KAAKyL,sDAQWC,EAAWC,GAC7B/C,aAAagD,QAAQ,aAAclB,KAAKmB,UAAUF,EAAUvB,8CAGrD,IAAAvF,EAAA7E,KAAAiD,EAC2EjD,KAAKZ,MAAhFgL,EADAnH,EACAmH,WAAYC,EADZpH,EACYoH,eAAgBC,EAD5BrH,EAC4BqH,cAAeC,EAD3CtH,EAC2CsH,gBAAiBC,EAD5DvH,EAC4DuH,YAD5DsB,EAKH9L,KAAKC,MAFP8L,EAHKD,EAGLC,UAAWC,EAHNF,EAGME,aAAcC,EAHpBH,EAGoBG,eAAgBC,EAHpCJ,EAGoCI,aAAcC,EAHlDL,EAGkDK,cACvDC,EAJKN,EAILM,WAAYlD,EAJP4C,EAIO5C,QAERmD,EAAUjC,EAAa,iBAAmB,iBAC1CkC,EAASlC,EACblB,EAAQ1B,IAAI,SAACoD,EAAQ2B,GAAT,OACV7M,EAAAC,EAAAC,cAACqH,EAAA,EAAKzC,KAAN,CAAWwC,QAAQ,QACjBtH,EAAAC,EAAAC,cAACqH,EAAA,EAAKzG,QAAN,KACEd,EAAAC,EAAAC,cAACqH,EAAA,EAAKC,OAAN,KACExH,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,aACXvB,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CAAYlM,KAAK,cAAcmM,SAAU,CACvC,CAAChF,IAAKmD,EAAOG,QAAQpC,MAAOpI,QAASqK,EAAOG,QAAQpC,MAAO+D,MAAM,GACjE,CAACjF,IAAKmD,EAAOK,OAAOtC,MAAOpI,QAASqK,EAAOK,OAAOtC,MAAO+D,MAAM,GAC/D,CAACjF,IAAKmD,EAAOO,SAASxC,MAAOpI,QAASqK,EAAOO,SAASxC,MAAO+D,MAAM,GACnE,CAACjF,IAAKmD,EAAOC,KAAKlC,MAAOpI,QAASqK,EAAOC,KAAKlC,MAAO+D,MAAM,IAC1DhM,MAAO,CAACiM,WAAY,MACvBjN,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQ+L,SAAO,EAACjM,MAAM,MAAMP,KAAK,OACzBU,QAAS,kBAAMkL,EAAaO,IAC5BpM,OAAK,EAACO,MAAO,CAACiM,WAAY,KAFlC,eAOLjN,EAAAC,EAAAC,cAAA,YACL,OACEF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACEvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACE3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAatC,UAAU,UACrBtE,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAASC,UAAW,SAAUpD,MAAM,QAClCjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACEvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAUrC,UAAU,UAClBtE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACE5G,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQP,KAAK,SAASH,OAAK,EAACO,MAAO,CAACmM,YAAa,KACjDnN,EAAAC,EAAAC,cAACyJ,GAAA,EAAD,CAAUyD,YAAY,UAAUC,WAAS,EAACC,QAAM,EAACC,WAAS,EAAC/D,QAASmB,EAC1Dd,SAAU4C,EAAezL,MAAO,CAAC8C,SAAU,MACrD9D,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,gBACXvB,EAAAC,EAAAC,cAACyJ,GAAA,EAAD,CAAUyD,YAAY,SAASC,WAAS,EAACC,QAAM,EAACC,WAAS,EAAC/D,QAASoB,EACzDf,SAAU2C,EAAcxL,MAAO,CAAC8C,SAAU,MACpD9D,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,gBACXvB,EAAAC,EAAAC,cAACyJ,GAAA,EAAD,CAAUyD,YAAY,WAAWC,WAAS,EAACC,QAAM,EAACC,WAAS,EAAC/D,QAASqB,EAC3DhB,SAAU0C,EAAgBvL,MAAO,CAAC8C,SAAU,MACtD9D,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,gBACXvB,EAAAC,EAAAC,cAACyJ,GAAA,EAAD,CAAUyD,YAAY,OAAOC,WAAS,EAACC,QAAM,EAACC,WAAS,EAAC/D,QAASsB,EACvDjB,SAAU6C,EAAY1L,MAAO,CAAC8C,SAAU,MAClD9D,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQT,KAAK,QAAQO,MAAM,QAAQiM,SAAO,EAAClM,MAAO,CAChDiM,WAAY,IACX7L,QAASiL,EAAW5L,OAAK,GAF5B,SAKJT,EAAAC,EAAAC,cAACsN,GAAA,EAAD,CAASxM,MAAO,CAACe,UAAW,EAAGQ,aAAc,EAAGuE,cAAe,EAAG2G,WAAY,KAC9EzN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAUrC,UAAU,UAClBtE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACE5G,EAAAC,EAAAC,cAACqH,EAAA,EAAD,CAAMmG,UAAQ,EAACH,WAAS,EAACI,SAAO,EAACjH,cAAc,SAAS1F,MAAO,CAACe,UAAW,EAAG0L,WAAY,IACvFb,GAEH5M,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQV,OAAK,EAACyM,SAAO,EAACxM,KAAK,OAAO4G,QAAQ,QAAQlG,QAAS,WACzD+D,EAAKrF,SAAS,CAAC4K,YAAaA,KAC3BzJ,MAAQyJ,EAAc,MAAQ,SAAUiC,6DApI7BpM,EAAOb,GAAO,IACrC0K,EAAc7J,EAAd6J,WACP,OAAkB,MAAdA,GACEA,IAAe1K,EAAM0K,WAChB,CACLA,WAAYA,GAMX,YA/Ba5I,gfCiGToM,iKAlGP,OACI5N,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC6G,EAAA,EAAD,CAAM8G,OAAK,EAAC5M,MAAM,MAAMoD,UAAW,YAC/BrE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbyM,WAAY,GACZ3G,cAAe,EACfvC,UAAW,MAEXvE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXmJ,WAAY,IAEZzN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAM,gBAAiBb,KAAK,OAAOM,MAAO,CAC5CC,MAAO,0BAInBjB,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXmJ,WAAY,IAEZzN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAAC4N,GAAA7N,EAAD,CACIoE,UAAW,YACX0J,OAAQ,WACRC,SAAS,KAEjBhO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAAC4N,GAAA7N,EAAD,CACIoE,UAAW,YACX0J,OAAQ,MACRC,SAAS,KAEjBhO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAAC4N,GAAA7N,EAAD,CACIoE,UAAW,YACX0J,OAAQ,cACRC,SAAS,OAIzBhO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbyM,WAAY,EACZ3G,cAAe,EACf1E,OAAQ,IAERpC,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACI5G,EAAAC,EAAAC,cAACsN,GAAA,EAAD,QAGRxN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbyM,WAAY,GACZ3G,cAAe,EACfvC,UAAW,MAEXvE,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXmJ,WAAY,IAEZzN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAM,oBAAqBb,KAAK,OAAOM,MAAO,CAChDC,MAAO,0BAInBjB,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXmJ,WAAY,IAEZzN,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,IAEbhB,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAW,aACd,UAGTrE,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbyM,WAAY,KAEZzN,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAW,aACd,2BAxFf7C,wgBCI1B,IAAMyM,GAAgB,SAAAvM,GAAA,IAAEd,EAAFc,EAAEd,KAAMK,EAARS,EAAQT,MAAOiN,EAAfxM,EAAewM,MAAfxM,EAAsBC,OAAtB,OAClB3B,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAAU+J,QAAM,EAACnN,MAAO,CAACuD,UAAW,SAAUtD,MAAM,OAChDjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMX,EAAMF,KAAe,OAAiBM,MAAO,CACrDC,MAAOA,OAInBjB,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAU,YAAY6J,IAElClO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACkO,GAAA,EAAD,CAASC,UAAQ,GACbrO,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,YADf,uBAWlB+M,GAAgB,SAAA3L,GAAA,IAAE/B,EAAF+B,EAAE/B,KAAMK,EAAR0B,EAAQ1B,MAAOiN,EAAfvL,EAAeuL,MAAOjF,EAAtBtG,EAAsBsG,MAAOsF,EAA7B5L,EAA6B4L,MAAOC,EAApC7L,EAAoC6L,OAAQC,EAA5C9L,EAA4C8L,SAA5C9L,EAAsDhB,OAAtD,OAClB3B,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAAU+J,QAAM,EAACnN,MAAO,CAACuD,UAAW,SAAUtD,MAAM,OAChDjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMX,EAAMF,KAAe,OAAiBM,MAAO,CACrDC,MAAOA,OAInBjB,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAU,YAAY6J,IAElClO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACwO,GAAAzO,EAAD,CACIuO,OAAQA,EACRG,WAAW,OACXF,SAAUA,EACVG,SAAS,UACTC,eAAe,aAGvB7O,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAAC4O,GAAA,EAAD,CAAWpO,KAAK,QAAQqO,YAAU,EAACzH,QAAS,SACxCtH,EAAAC,EAAAC,cAAC4O,GAAA,EAAUE,MAAX,KAAkB/F,EAAMjJ,EAAAC,EAAAC,cAAA,QAAMc,MAAO,CAAEqB,SAAS,KAAOkM,WAuKpEU,4CA7Jb,SAAAA,EAAY1O,EAAO2O,GAAS,IAAArP,EAAA,OAAAqI,OAAAC,EAAA,EAAAD,CAAA5H,KAAA2O,IAC1BpP,EAAAsP,EAAA9G,KAAA/H,KAAMC,EAAO2O,IACRxP,MAAQ,CACT0P,aAAc,EACdC,kBAAmB,GACnBC,cAAc,EACdC,mBAAmB,GAEvB1P,EAAK2P,iBAAiBC,KAAtBvH,OAAAwH,GAAA,EAAAxH,CAAArI,IACAA,EAAK8P,qBAAqBF,KAA1BvH,OAAAwH,GAAA,EAAAxH,CAAArI,IAT0BA,2DAYfqL,EAAQd,GACnB9J,KAAKqP,qBAAqBzE,EAAQd,GAClC9J,KAAKkP,iBAAiBtE,EAAQd,4CAIfc,EAAQd,GAAY,IAAA/G,EAAA/C,KAG7BsP,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMC,IAAIT,GAAa,qBAAuBgH,EAAS,CACtDvF,OAAQ,CACXD,WAAYA,EAAWE,MAErBC,QAASlL,iBAEJiK,KAAK,SAAAkB,GACF,GAAU,MAAPA,GACgB,MAAZA,EAAIF,MACiB,MAArBE,EAAIF,KAAJ,MAA2B,CAC9B,IAAMuF,EAAOrF,EAAIF,KACjBwF,QAAQC,IAAI,eAAgBF,EAAI,MAAUG,QAAQ,IAClD3M,EAAKvD,SAAS,CAAEsP,aAAcS,EAAI,MAAUG,QAAQ,GACpCV,cAAc,SAG9BjM,EAAKvD,SAAS,CAAEwP,cAAc,mDAKvBpE,EAAQd,GAAY,IAAAjF,EAAA7E,KAGjCsP,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMC,IAAIT,GAAa,mBAAqBgH,EAAS,CACpDvF,OAAQ,CACTD,WAAYA,EAAWE,MAEnBC,QAASlL,iBAERiK,KAAK,SAAAkB,GACF,GAAU,MAAPA,GACgB,MAAZA,EAAIF,MACiB,MAArBE,EAAIF,KAAJ,MAA2B,CAC9B,IAAMuF,EAAOrF,EAAIF,KACjBwF,QAAQC,IAAI,cAAeF,EAAI,MAAUG,QAAQ,IACjD7K,EAAKrF,SAAS,CAAEuP,kBAAmBQ,EAAI,MACvBN,mBAAmB,SAGnCpK,EAAKrF,SAAS,CAAEyP,mBAAmB,gDAoB/B1D,EAAWC,GAAW,IAElCmE,EAFkC7D,EACP9L,KAAKC,MAA5B2K,EAD8BkB,EAC9BlB,OAAQd,EADsBgC,EACtBhC,WAEhB,GAAiB,MAAdA,EACuB,qBAAdyB,GAA6BzB,IAAeyB,EAAUzB,aAElE6F,EAAaC,YAAY5P,KAAK6P,aAAaV,KAAKnP,MAAO,IAAM4K,EAAQd,SAOhE,GAAGlB,aAAahK,QAAQ,WAAY,CACrC,IAAIkR,EAAUpF,KAAKC,MAAM/B,aAAahK,QAAQ,YAElD+Q,EAAaC,YAAY5P,KAAK6P,aAAaV,KAAKnP,MAAO,IAAM4K,EAAQkF,QAMjEN,QAAQC,IAAI,8BAEhBzP,KAAKR,SAAS,CAACmQ,WAAYA,qCAGpB,IAAA1M,EACsEjD,KAAKZ,MAA1E0P,EADD7L,EACC6L,aAAcC,EADf9L,EACe8L,kBAAmBC,EADlC/L,EACkC+L,aAAcC,EADhDhM,EACgDgM,kBACjDc,EAAkBjB,EAAe,GAAO,IACxCkB,GAAwBjB,EAAoB,IAAQ,GAAO,IAC3DkB,EAAiBjQ,KAAKC,MAAMoB,OAAU,CAAC,GAAG,GAAG,GAAG,GAAG,IAAM,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IACzE6O,EAAelB,EACjBtP,EAAAC,EAAAC,cAACuQ,GAAD,CAAe7P,KAAM,uBAAwBK,MAAO,qBACpDiN,MAAO,eAAgBvM,OAAQrB,KAAKC,MAAMoB,SAE1C3B,EAAAC,EAAAC,cAACwQ,GAAD,CAAe9P,KAAM,uBAAwBK,MAAO,qBACpDiN,MAAO,eAAgBjF,MAAOmG,EAAcb,MAAO,KACnDC,OAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAKC,SAAU4B,EAClC1O,OAAQrB,KAAKC,MAAMoB,SAEjBgP,EAAoBpB,EACtBvP,EAAAC,EAAAC,cAACuQ,GAAD,CAAe7P,KAAM,cAAeK,MAAO,qBAC3CiN,MAAO,mBAAoBvM,OAAQrB,KAAKC,MAAMoB,SAE9C3B,EAAAC,EAAAC,cAACwQ,GAAD,CAAe9P,KAAM,cAAeK,MAAO,qBAC3CiN,MAAO,mBAAoBjF,MAAOoG,EAAkBW,QAAQ,GAAIzB,MAAO,QACvEC,OAAQ+B,EAAe9B,SAAU6B,EACjC3O,OAAQrB,KAAKC,MAAMoB,SAEvB,OACI3B,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,UAAWlG,KAAKC,MAAMoB,OAAQ8E,UAAWnG,KAAKC,MAAMoB,QACtD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACI5G,EAAAC,EAAAC,cAACsN,GAAA,EAAD,CAASuB,YAAU,EAAC/N,MAAO,CAAEiM,WAAY,OAAQE,YAAa,SAC1DnN,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQmB,GAAG,KAAKuC,UAAU,YACrB/D,KAAKC,MAAM2N,UAK5BlO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GACfqO,GAELxQ,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GACfwO,wDAjFapQ,EAAOb,GAAO,IACpC0K,EAAe7J,EAAf6J,WACR,OAAiB,MAAdA,GACEA,IAAe1K,EAAM0K,WACf,CACCA,WAAYA,GAOjB,YAjFoB5I,wdCxF/B,IAAMyM,GAAgB,SAAAvM,GAAA,IAAEd,EAAFc,EAAEd,KAAMK,EAARS,EAAQT,MAAOiN,EAAfxM,EAAewM,MAAe0C,GAA9BlP,EAAsBC,OAAtBD,EAA8BkP,KAA9B,OAClB5Q,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAAU+J,QAAM,EAACnN,MAAO,CAACuD,UAAW,SAAUtD,MAAM,OAChDjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMX,EAAMF,KAAe,OAAiBM,MAAO,CACrDC,MAAOA,OAInBjB,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAU,YAAY6J,IAElClO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACkO,GAAA,EAAD,CAASC,UAAQ,GACbrO,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,YACVqP,SASvBtC,GAAgB,SAAA3L,GAAA,IAAE/B,EAAF+B,EAAE/B,KAAMK,EAAR0B,EAAQ1B,MAAOiN,EAAfvL,EAAeuL,MAAOjF,EAAtBtG,EAAsBsG,MAAOsF,EAA7B5L,EAA6B4L,MAAOsC,EAApClO,EAAoCkO,iBAApClO,EAAsDhB,OAAtD,OAClB3B,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAASC,UAAW,YAAa8J,QAAM,EAACnN,MAAO,CAACuD,UAAW,SAAUtD,MAAM,UACvEjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAMX,EAAMF,KAAe,OAAiBM,MAAO,CACrDC,MAAOA,EACPc,UAAW,sBAIvB/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3BsD,UAAW,OACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAU,YAAY6J,IAElClO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAAC4Q,GAAA,EAAD,CACIC,OAAQ,CACJC,MAAO,CACH7O,MAAO,mBAEX4C,OAAQ,CACJsC,gBAAiB,sBAGzB4J,KAAK,IACLC,KAAM,GACNC,KAAM,GACNC,MAAO,GACPC,EAAGpI,EACHY,SAAU,SAAA3D,GAAA,IAAEmL,EAAFnL,EAAEmL,EAAF,OAASR,EAAiBQ,OAG5CrR,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEb/B,EAAAC,EAAAC,cAAC4O,GAAA,EAAD,CAAWpO,KAAK,QAAQqO,YAAU,EAACzH,QAAS,SACxCtH,EAAAC,EAAAC,cAAC4O,GAAA,EAAUE,MAAX,KAAkB/F,EAAMjJ,EAAAC,EAAAC,cAAA,QAAMc,MAAO,CAAEqB,SAAS,KAAOkM,WAS3E+C,GAAe,SAAAC,GAAA,IAAE3Q,EAAF2Q,EAAE3Q,KAAMK,EAARsQ,EAAQtQ,MAAOiN,EAAfqD,EAAerD,MAAOjF,EAAtBsI,EAAsBtI,MAAOuI,EAA7BD,EAA6BC,aAAsBC,GAAnDF,EAA2C5P,OAA3C4P,EAAmDE,SAAnD,OACjBzR,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAASC,UAAW,YAAa8J,QAAM,EAACnN,MAAO,CAACuD,UAAW,SAAUtD,MAAM,QACvEjB,EAAAC,EAAAC,cAACqG,EAAA,EAAD,KACIvG,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,EAAGnB,MAAO,CAC1BsD,UAAW,SACXvC,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMoI,SAAoB,QAAVT,EAAiB1H,KAAMX,EAAMF,KAAe,OAAiBM,MAAO,CAChFC,MAAkB,QAAVgI,EAAmB,OAAShI,EACpCc,UAAW,sBAIvB/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAAInB,MAAO,CAC3Be,UAAW,IAEX/B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQ0D,UAAU,YAAY6J,IAElClO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEX/B,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQP,MAAI,EAAC8Q,cAAc,QAAQD,QAASA,EACxCxQ,MAAiB,QAAVgI,EAAkB,OAAS,MAAO7H,QAASoQ,EAClDxQ,MAAO,CAACmB,MAAO,oBACJ,QAAV8G,EAAkB,UAAY,WAC/BjJ,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAgB,QAAV0H,EAAkB,YAAc,iBAGpDjJ,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU3F,MAAO,CACbe,UAAW,KAEb/B,EAAAC,EAAAC,cAAC4O,GAAA,EAAD,CAAWpO,KAAK,QAAQqO,YAAU,EAACzH,QAAS,QAC1CtH,EAAAC,EAAAC,cAAC4O,GAAA,EAAUE,MAAX,KAAkB/F,UAsP3BgG,4CA5Ob,SAAAA,EAAY1O,EAAO2O,GAAS,IAAArP,EAAA,OAAAqI,OAAAC,EAAA,EAAAD,CAAA5H,KAAA2O,IAC1BpP,EAAAsP,EAAA9G,KAAA/H,KAAMC,EAAO2O,IAYfsC,aAAe,WAAM,IAAApF,EACYvM,EAAKU,MAA5B2K,EADWkB,EACXlB,OAAQd,EADGgC,EACHhC,WACVuH,EAAgC,IAAtB9R,EAAKH,MAAMiS,OAAgB,EAAI,EAC/C9R,EAAKC,SAAS,CAAC2R,SAAS,IACxB5R,EAAK+R,WAAW1G,EAAQyG,EAAOE,WAAYF,EAAQvH,IAjBzBvK,EAoB5BgR,iBAAmB,SAACiB,GAAgB,IAAAC,EACDlS,EAAKU,MAA5B2K,EADwB6G,EACxB7G,OAAQd,EADgB2H,EAChB3H,WAChBvK,EAAKmS,kBAAkB9G,EAAQ4G,EAAa1H,GAC5CvK,EAAKC,SAAS,CACZgS,YAAaA,KAtBjBjS,EAAKH,MAAQ,CACTiS,OAAQ,EACRG,YAAa,GACbG,cAAc,EACdC,gBAAgB,EAChBT,SAAS,GAEb5R,EAAKsS,WAAW1C,KAAhBvH,OAAAwH,GAAA,EAAAxH,CAAArI,IACAA,EAAKuS,kBAAkB3C,KAAvBvH,OAAAwH,GAAA,EAAAxH,CAAArI,IAV0BA,yDA4BjBqL,EAAQd,GAAY,IAAA/G,EAAA/C,KAGvBsP,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMC,IAAIT,GAAa,qBAAuBgH,EAAS,CACrDvF,OAAQ,CACZD,WAAYA,EAAWE,MAEnBC,QAASlL,iBACRiK,KAAK,SAAAkB,GACA,GAA6B,MAAzBA,EAAIF,KAAK+H,YACTvC,QAAQC,IAAI,kBACZ1M,EAAKvD,SAAS,CAACmS,aAAc,WAC1B,GAAW,MAAPzH,GAA2B,MAAZA,EAAIF,MAAqC,MAArBE,EAAIF,KAAJ,MAA2B,CACrEwF,QAAQC,IAAI,cACZ,IAAMF,EAAOrF,EAAIF,KACjBjH,EAAKvD,SAAS,CAAE6R,OAAQ9B,EAAI,MACZoC,cAAc,SAG9B5O,EAAKvD,SAAS,CAAEmS,aAAc,kDAK1B/G,EAAQd,GAAY,IAAAjF,EAAA7E,KAG9BsP,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMC,IAAIT,GAAa,uBAAyBgH,EAAS,CACvDvF,OAAQ,CACZD,WAAYA,EAAWE,MAEnBC,QAASlL,iBAENiK,KAAK,SAAAkB,GACF,GAA6B,MAAzBA,EAAIF,KAAK+H,YACTvC,QAAQC,IAAI,kBACZ5K,EAAKrF,SAAS,CAACoS,eAAgB,WAC5B,GAAU,MAAP1H,GACS,MAAZA,EAAIF,MACiB,MAArBE,EAAIF,KAAJ,MAA2B,CAC9B,IAAMuF,EAAOrF,EAAIF,KACjBnF,EAAKrF,SAAS,CAAEgS,YAAajC,EAAI,MACjBqC,gBAAgB,SAGhCpC,QAAQC,IAAI,WACZ5K,EAAKrF,SAAS,CAAEoS,eAAgB,2CAKnChH,EAAQyG,EAAQW,EAAWlI,GAAY,IAAA7E,EAAAjF,KAG1CsP,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMmJ,KAAK3J,GAAa,qBAAuBgH,EAAS,CAAE3G,MAAO0I,GAAU,CAC1EtH,OAAQ,CACPD,WAAYA,EAAWE,MAErBC,QAASlL,iBAERiK,KAAK,SAAAkB,GACFjF,EAAKzF,SAAS,CACZ6R,OAAQW,EACRb,SAAS,MAGde,MAAM,SAAUC,GACb3C,QAAQC,IAAI0C,+CAIJvH,EAAQwH,EAAMtI,GAG9B,IAAMwF,EAAU1E,EAAOC,KAAKlC,MAC5BG,IAAMmJ,KAAK3J,GAAa,uBAAyBgH,EAAS,CAAE3G,MAAOyJ,GAAQ,CACzErI,OAAQ,CACZD,WAAYA,EAAWE,MAEnBC,QAASlL,iBAENiK,KAAK,SAAUqJ,GACZ7C,QAAQC,IAAI4C,KAEfH,MAAM,SAAUC,GACb3C,QAAQC,IAAI0C,uCAmBZvH,EAAQd,GACd9J,KAAK6R,WAAWjH,EAAQd,GACxB9J,KAAK8R,kBAAkBlH,EAAQd,6CAGjByB,EAAWC,GAAW,IAElCmE,EAFkC2C,EACPtS,KAAKC,MAA5B2K,EAD8B0H,EAC9B1H,OAAQd,EADsBwI,EACtBxI,WAEhB,GAAiB,MAAdA,EACuB,qBAAdyB,GAA6BzB,IAAeyB,EAAUzB,aAK9D6F,EAAaC,YAAY5P,KAAKuS,UAAUpD,KAAKnP,MAAO,IAAM4K,EAAQd,SAGjE,GAAGlB,aAAahK,QAAQ,WAAY,CAC5C,IAAIkR,EAAUpF,KAAKC,MAAM/B,aAAahK,QAAQ,YACvC+Q,EAAaC,YAAY5P,KAAKuS,UAAUpD,KAAKnP,MAAO,IAAM4K,EAAQkF,GAMtE9P,KAAKR,SAAS,CAACmQ,WAAYA,qCAGpB,IAEH6C,EA6BAC,EA/BGxP,EACgEjD,KAAKZ,MAApEiS,EADDpO,EACCoO,OAAQG,EADTvO,EACSuO,YAAaL,EADtBlO,EACsBkO,QAASQ,EAD/B1O,EAC+B0O,aAAcC,EAD7C3O,EAC6C2O,eAgDpD,OA7CIY,EADiB,MAAjBb,EAEAjS,EAAAC,EAAAC,cAAC8S,GAAD,CAAepS,KAAM,YAAaK,MAAO,qBACzCiN,MAAO,SAAUvM,OAAQrB,KAAKC,MAAMoB,OAAQiP,IAAK,iBAEzB,MAAjBqB,EAEPjS,EAAAC,EAAAC,cAAC8S,GAAD,CAAepS,KAAM,YAAaK,MAAO,qBACzCiN,MAAO,SAAUvM,OAAQrB,KAAKC,MAAMoB,OAAQiP,IAAK,kBAK7C5Q,EAAAC,EAAAC,cAAC+S,GAAD,CAAcrS,KAAM,YAAaK,MAAO,qBACxCiN,MAAO,SAAUjF,MAAmB,IAAX0I,EAAgB,KAAO,MAChDH,aAAclR,KAAKkR,aAAc7P,OAAQrB,KAAKC,MAAMoB,OAAQ8P,QAASA,IAe5EsB,EADsB,MAAnBb,EAEAlS,EAAAC,EAAAC,cAAC8S,GAAD,CAAepS,KAAM,sBAAuBK,MAAO,oBACnDiN,MAAO,cAAevM,OAAQrB,KAAKC,MAAMoB,OAAQiP,IAAK,iBAE5B,MAAnBsB,EAEPlS,EAAAC,EAAAC,cAAC8S,GAAD,CAAepS,KAAM,sBAAuBK,MAAO,oBACnDiN,MAAO,cAAevM,OAAQrB,KAAKC,MAAMoB,OAAQiP,IAAK,kBAIlD5Q,EAAAC,EAAAC,cAACgT,GAAD,CAAetS,KAAM,sBAAuBK,MAAO,oBAC1DiN,MAAO,cAAejF,MAAO6I,EAAavD,MAAO,QACjDsC,iBAAkBvQ,KAAKuQ,iBAAkBlP,OAAQrB,KAAKC,MAAMoB,SAIzD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,UAAWlG,KAAKC,MAAMoB,OAAQ8E,UAAWnG,KAAKC,MAAMoB,QACtD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACI5G,EAAAC,EAAAC,cAACsN,GAAA,EAAD,CAASuB,YAAU,EAAC/N,MAAO,CAAEiM,WAAY,OAAQE,YAAa,SAC1DnN,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQmB,GAAG,KAAKuC,UAAU,YACrB/D,KAAKC,MAAM2N,UAK5BlO,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAC5B2Q,GAEQ9S,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAC5B4Q,wDA5G0BxS,EAAOb,GAAO,IACpC0K,EAAe7J,EAAf6J,WACR,OAAiB,MAAdA,GACEA,IAAe1K,EAAM0K,WACf,CACbA,WAAYA,GAOH,YArIoB5I,kdCxEhB2R,sMA5EXzT,MAAQ,CACJ0T,WAAW,EAClBhJ,WAAY,yEAILlB,aAAahK,QAAQ,cAAgBoB,KAAKR,SAAS,CAC/CsT,UAAWpI,KAAKC,MAAM/B,aAAahK,QAAQ,4DAK7CgK,aAAahK,QAAQ,yDAKP8M,EAAWC,GAC3B/C,aAAagD,QAAQ,YAAalB,KAAKmB,UAAUF,EAAUmH,6CAkBtD,IAAA/P,EAAA/C,KACE4K,EAAU5K,KAAKC,MAAf2K,OACPd,EAAc9J,KAAKZ,MAAnB0K,WACM2C,EAAW,CACb,CAAEhF,IAAKmD,EAAOG,QAAQpC,MAAOpI,QAASqK,EAAOG,QAAQpC,MAAO+D,MAAM,GAClE,CAAEjF,IAAKmD,EAAOK,OAAOtC,MAAOpI,QAASqK,EAAOK,OAAOtC,MAAO+D,MAAM,GAChE,CAAEjF,IAAKmD,EAAOO,SAASxC,MAAOpI,QAASqK,EAAOO,SAASxC,MAAO+D,MAAM,GACpE,CAAEjF,IAAKmD,EAAOC,KAAKlC,MAAOpI,QAASqK,EAAOC,KAAKlC,MAAO+D,MAAM,IAEzDoG,EAAa9S,KAAKZ,MAAlB0T,UACDxS,EAAOwS,EAAY,WAAa,aAChCC,EAAUD,EACZpT,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY/B,GAAIsC,KACZpE,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,UAAWlG,KAAKC,MAAMoB,OAAQ8E,UAAWnG,KAAKC,MAAMoB,QACtD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,CAAU2M,QAAS,GACftT,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAChBnC,EAAAC,EAAAC,cAACqT,GAAD,CAASrF,MAAO,0BAA2BhD,OAAQA,EAAQvJ,OAAQrB,KAAKC,MAAMoB,OAAQyI,WAAYA,KAEtGpK,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAChBnC,EAAAC,EAAAC,cAACsT,GAAD,CAAStF,MAAO,eAAgBhD,OAAQA,EAAQvJ,OAAQrB,KAAKC,MAAMoB,OAAQyI,WAAYA,QAKtGpK,EAAAC,EAAAC,cAAA,YAEL,OACIF,EAAAC,EAAAC,cAACkE,EAAA,EAAQqP,MAAT,KACIzT,EAAAC,EAAAC,cAACkE,EAAA,EAAD,KACIpE,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CAAYlM,KAAK,cAAcmM,SAAUA,IACzC/M,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQP,KAAMA,EAAMH,OAAK,EAACC,KAAK,OAAO4G,QAAQ,QAAQlG,QAAS,WAC3DiC,EAAKvD,SAAS,CAACsT,WAAYA,QAGlCC,sDAjDmB9S,EAAOb,GAAO,IACpC0K,EAAe7J,EAAf6J,WACR,OAAiB,MAAdA,GACLA,IAAe1K,EAAM0K,WACf,CACNA,WAAYA,GAOH,YAlCO5I,kdCsCLiJ,iKApCJ,IAAA5K,EAAAS,KAAA8L,EAE6C9L,KAAKC,MADlD8L,EADAD,EACAC,UAAWC,EADXF,EACWE,aAAcC,EADzBH,EACyBG,eAAgBC,EADzCJ,EACyCI,aAAcC,EADvDL,EACuDK,cAC5DC,EAFKN,EAELM,WAAYlD,EAFP4C,EAEO5C,QAASkK,EAFhBtH,EAEgBsH,cAAetJ,EAF/BgC,EAE+BhC,WAChCuC,EAA8B,IAAnBnD,EAAQmK,OACvB3T,EAAAC,EAAAC,cAACkO,GAAA,EAAD,CAASwF,SAAS,SAASC,SAAO,GAChC7T,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,YADb,mBAIGvB,EAAAC,EAAAC,cAAA,YAEL,OACEF,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,UAAWlG,KAAKC,MAAMoB,OAAQ8E,UAAWnG,KAAKC,MAAMoB,QACxD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACE3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,GAClBnC,EAAAC,EAAAC,cAAC4T,GAAD,OAEF9T,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,CAAazE,MAAO,IAClBnC,EAAAC,EAAAC,cAAC6T,GAAD,CAAaL,cAAeA,EAAe/R,OAAQrB,KAAKC,MAAMoB,OAAQ6H,QAASA,EAC/E6C,UAAWA,EAAWC,aAAcA,EAAcC,eAAgBA,EAClEC,aAAcA,EAAcC,cAAeA,EAAeC,WAAYA,EAAYtC,WAAYA,MAGlGpK,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACK+F,EACAnD,EAAQ1B,IAAI,SAAAoD,GAAM,OACjBlL,EAAAC,EAAAC,cAAC8T,GAAD,CAAO9I,OAAQA,EAAQvJ,OAAQ9B,EAAKU,MAAMoB,OAAQyI,WAAYA,gBA3BxD5I,sfC2DTyS,iKA5DF,IAAA7H,EAEmC9L,KAAKC,MADtC8L,EADFD,EACEC,UAAWC,EADbF,EACaE,aAAcC,EAD3BH,EAC2BG,eAAgBC,EAD3CJ,EAC2CI,aAAcC,EADzDL,EACyDK,cAC5DC,EAFGN,EAEHM,WAAYlD,EAFT4C,EAES5C,QAASkK,EAFlBtH,EAEkBsH,cACvB,OACI1T,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAMC,UAAWlG,KAAKC,MAAMoB,OAAQ8E,UAAWnG,KAAKC,MAAMoB,QACtD3B,EAAAC,EAAAC,cAACqG,EAAA,EAAKI,IAAN,KACI3G,EAAAC,EAAAC,cAACqG,EAAA,EAAKK,OAAN,KACI5G,EAAAC,EAAAC,cAACkE,EAAA,EAAQqP,MAAT,KACIzT,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CAAS/C,UAAQ,EAACL,MAAO,CAACqG,gBAAiB,YACvCrH,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAQmB,GAAG,KAAKd,MAAO,CAACC,MAAO,YAC3BjB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,CAAMC,KAAK,aACXvB,EAAAC,EAAAC,cAACS,EAAA,EAAOG,QAAR,mCAIRd,EAAAC,EAAAC,cAACkE,EAAA,EAAQqP,MAAT,CAAezS,MAAO,CAACe,UAAW,KAC9B/B,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY/B,GAAIsC,IAAS/C,UAAQ,EAACL,MAAO,CAACqG,gBAAiB,YACvDrH,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CAAYC,SAAU,CAClB,CAAEhF,IAAK,sBAAuBlH,QAAS,sBAAuBkE,QAAQ,IACnE/D,MAAO,CAACC,MAAO,cAE1BjB,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY/B,GAAIsC,KACZpE,EAAAC,EAAAC,cAACgU,GAAA,EAAD,KACIlU,EAAAC,EAAAC,cAACgU,GAAA,EAAKC,MAAN,KACInU,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,SAAOkN,YAAY,WAEvBpN,EAAAC,EAAAC,cAACgU,GAAA,EAAKC,MAAN,KACInU,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,SAAOkN,YAAY,QAEvBpN,EAAAC,EAAAC,cAACgU,GAAA,EAAKC,MAAN,KACInU,EAAAC,EAAAC,cAACkU,GAAA,EAAD,CAAU7F,MAAM,yCAEpBvO,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQF,MAAM,QAAQR,OAAK,EAAC4T,KAAK,UAAjC,aAKZrU,EAAAC,EAAAC,cAACkE,EAAA,EAAQqP,MAAT,KACIzT,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY/B,GAAIsC,IAAS/C,UAAQ,EAACL,MAAO,CAACqG,gBAAiB,YACvDrH,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CAAYC,SAAU,CAClB,CAAEhF,IAAK,OAAQlH,QAAS,OAAQkE,QAAQ,IACrC/D,MAAO,CAACC,MAAO,cAE1BjB,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY/B,GAAIsC,IAASpD,MAAO,IAC5BhB,EAAAC,EAAAC,cAAC6T,GAAD,CAAaL,cAAeA,EAAe/R,OAAQrB,KAAKC,MAAMoB,OAAQ6H,QAASA,EAC/E6C,UAAWA,EAAWC,aAAcA,EAAcC,eAAgBA,EAClEC,aAAcA,EAAcC,cAAeA,EAAeC,WAAYA,iBAjDpFlL,kdCUhBoB,iKACK,IAAAwJ,EAIH9L,KAAKC,MAFP8L,EAFKD,EAELC,UAAWC,EAFNF,EAEME,aAAcC,EAFpBH,EAEoBG,eAAgBC,EAFpCJ,EAEoCI,aAAcC,EAFlDL,EAEkDK,cACvDC,EAHKN,EAGLM,WAAY4H,EAHPlI,EAGOkI,QAAS5L,EAHhB0D,EAGgB1D,cAAe0B,EAH/BgC,EAG+BhC,WAEhCmK,EAAOD,EACXtU,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,kBACbrE,EAAAC,EAAAC,cAACsU,GAAD,CAAS7S,QAAQ,EAAO6H,QAASlJ,KAAKC,MAAMiJ,QAASkK,cAAepT,KAAKC,MAAMmT,cACtErH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAAYtC,WAAYA,KAG7EpK,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,kBACbrE,EAAAC,EAAAC,cAACuU,GAAD,CAAW9S,QAAQ,EAAO6H,QAASlJ,KAAKC,MAAMiJ,QAASkK,cAAepT,KAAKC,MAAMmT,cACtErH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAAYtC,WAAYA,KAGjF,OACEpK,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAYC,SAAU,MACpB9D,EAAAC,EAAAC,cAACwU,GAAD,CAAShM,cAAeA,EAAe0B,WAAYA,IACnDpK,EAAAC,EAAAC,cAACyU,GAAD,CAAUjM,cAAeA,IACxB6L,UAzBsB/S,aAmCzB0D,iKACK,IAAA6M,EAIHzR,KAAKC,MAFP8L,EAFK0F,EAEL1F,UAAWC,EAFNyF,EAEMzF,aAAcC,EAFpBwF,EAEoBxF,eAAgBC,EAFpCuF,EAEoCvF,aAAcC,EAFlDsF,EAEkDtF,cACvDC,EAHKqF,EAGLrF,WAAY4H,EAHPvC,EAGOuC,QAAS5L,EAHhBqJ,EAGgBrJ,cAAe0B,EAH/B2H,EAG+B3H,WAEhCmK,EAAOD,EACXtU,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,oBACbrE,EAAAC,EAAAC,cAACsU,GAAD,CAAS7S,QAAQ,EAAM6H,QAASlJ,KAAKC,MAAMiJ,QAASkK,cAAepT,KAAKC,MAAMmT,cACrErH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAAYtC,WAAYA,KAG7EpK,EAAAC,EAAAC,cAAA,OAAKmE,UAAU,oBACbrE,EAAAC,EAAAC,cAACuU,GAAD,CAAW9S,QAAQ,EAAM6H,QAASlJ,KAAKC,MAAMiJ,QAASkK,cAAepT,KAAKC,MAAMmT,cACrErH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAAYtC,WAAYA,KAGjF,OACEpK,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CAAY4B,SAAU,MACpBzF,EAAAC,EAAAC,cAACwU,GAAD,CAAShM,cAAeA,EAAe0B,WAAYA,IAClDmK,UAxBqB/S,aAkCxByE,GAAsB,SAAAvE,GAAA,IACG4B,EADH5B,EACG4B,SAAUkG,EADb9H,EACa8H,QAASkK,EADtBhS,EACsBgS,cAAerH,EADrC3K,EACqC2K,UAAWC,EADhD5K,EACgD4K,aAAcC,EAD9D7K,EAC8D6K,eAC3DC,EAFH9K,EAEG8K,aAAcC,EAFjB/K,EAEiB+K,cAAeC,EAFhChL,EAEgCgL,WAAY4H,EAF5C5S,EAE4C4S,QAAS5L,EAFrDhH,EAEqDgH,cAAe0B,EAFpE1I,EAEoE0I,WAFpE,OAI1BpK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0U,GAAD,CAAkBpL,QAASA,EAASkK,cAAeA,EACjCrH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAC1C4H,QAASA,EAAS5L,cAAeA,EACjC0B,WAAYA,GAAa9G,GAC3CtD,EAAAC,EAAAC,cAAC2U,GAAD,CAAiBrL,QAASA,EAASkK,cAAeA,EACjCrH,UAAWA,EAAWC,aAAcA,EACpCC,eAAgBA,EAAgBC,aAAcA,EAC9CC,cAAeA,EAAeC,WAAYA,EAC1C4H,QAASA,EAAS5L,cAAeA,EACjC0B,WAAYA,GAAa9G,KA2M/BwR,sMAlMbpV,MAAQ,CACN8J,QAAS,GACTkJ,KAAM,GACN4B,SAAS,EACTvJ,MAAO,GACPX,WAAY,KACZtH,UAAU,KAGZiS,WAAa,SAAChN,GACZ,IAAIiN,EAAchW,OAAOC,eAAeC,QAAQ6I,GAChD,GAAoB,OAAhBiN,EAAsB,CACxB,IAAI/L,EAAQ+B,KAAKC,MAAM+J,GAEvB,GADqB,IAAI5V,KAAK6J,EAAMgM,gBACf,IAAI7V,KACvB,OAAO6J,EAAMA,MAEbjK,OAAOC,eAAeiW,WAAWnN,GAGrC,OAAO,QAGToN,WAAa,SAACpN,EAAKkB,GAAiC,IAA1BmM,EAA0BC,UAAA1B,OAAA,QAAA2B,IAAAD,UAAA,GAAAA,UAAA,GAAR,IAEtCE,EAAW,CACbtM,MAAOA,EACPgM,eAHmB,IAAI7V,MAAK,IAAIA,MAAOoW,UAAa,IAAQJ,GAG7BK,eAEjCzW,OAAOC,eAAeiN,QAAQnE,EAAKiD,KAAKmB,UAAUoJ,OAGpDG,cAAgB,WACT7V,EAAKH,MAAMoD,UACdjD,EAAKC,SAAS,CACZsK,WAAY,QACZtH,UAAU,OAgChB4F,cAAgB,SAACwC,GACfrL,EAAKC,SAAS,CAACwU,QAASpJ,OAG1BwI,cAAgB,SAAClK,GACf3J,EAAKC,SAAS,CAAC0J,QAASA,OAG1BkD,WAAa,SAAC1D,EAADrG,GAAgB,IAAXsG,EAAWtG,EAAXsG,MAChBpJ,EAAKC,SAAS,SAAAgM,GAAS,MAAK,CAC1B4G,KAAKxK,OAAAyN,EAAA,EAAAzN,CAAA,GACA4D,EAAU4G,KADX,CAEFvH,KAAM,CAAClC,iBAKbuD,aAAe,SAACxD,EAAD9C,GAAgB,IAAX+C,EAAW/C,EAAX+C,MAClBpJ,EAAKC,SAAS,SAAAgM,GAAS,MAAK,CAC1B4G,KAAKxK,OAAAyN,EAAA,EAAAzN,CAAA,GACA4D,EAAU4G,KADX,CAEFnH,OAAQ,CAACtC,iBAKfsD,eAAiB,SAACvD,EAADuI,GAAgB,IAAXtI,EAAWsI,EAAXtI,MACpBpJ,EAAKC,SAAS,SAAAgM,GAAS,MAAK,CAC1B4G,KAAKxK,OAAAyN,EAAA,EAAAzN,CAAA,GACA4D,EAAU4G,KADX,CAEFjH,SAAU,CAACxC,iBAKjBwD,cAAgB,SAACzD,EAAD4M,GAAgB,IAAX3M,EAAW2M,EAAX3M,MACnBpJ,EAAKC,SAAS,SAAAgM,GAAS,MAAK,CAC1B4G,KAAKxK,OAAAyN,EAAA,EAAAzN,CAAA,GACA4D,EAAU4G,KADX,CAEFrH,QAAS,CAACpC,iBAKhBoD,UAAY,WACVxM,EAAKC,SACH,SAAAJ,GAiBE,OAhBIA,EAAMqL,MAAM8K,KAAK,SAAAC,GAAC,OAAKA,EAAEzK,UAAY3L,EAAMgT,KAAKrH,QAAQpC,OACrD6M,EAAEvK,SAAW7L,EAAMgT,KAAKnH,OAAOtC,OAC/B6M,EAAErK,WAAa/L,EAAMgT,KAAKjH,SAASxC,OACnC6M,EAAE3K,OAASzL,EAAMgT,KAAKvH,KAAKlC,SACD,MAA5BvJ,EAAMgT,KAAKrH,QAAQpC,OACQ,MAA3BvJ,EAAMgT,KAAKnH,OAAOtC,OACW,MAA7BvJ,EAAMgT,KAAKjH,SAASxC,OACK,MAAzBvJ,EAAMgT,KAAKvH,KAAKlC,QACfvJ,EAAM8J,QAAQqM,KAAK,SAAAC,GAAC,OAAKA,EAAEzK,QAAQpC,QAAUvJ,EAAMgT,KAAKrH,QAAQpC,OAC/D6M,EAAEvK,OAAOtC,QAAUvJ,EAAMgT,KAAKnH,OAAOtC,OACrC6M,EAAErK,SAASxC,QAAUvJ,EAAMgT,KAAKjH,SAASxC,OACzC6M,EAAE3K,KAAKlC,QAAUvJ,EAAMgT,KAAKvH,KAAKlC,SAGtCvJ,EAAM8J,QAAQoC,KAAKlM,EAAMgT,MAEpB,CACLlJ,QAFc9J,EAAM8J,QAGpBkJ,KAAMhT,EAAMgT,WAMpBpG,aAAe,SAAAyJ,GACblW,EAAKC,SAAS,SAAAJ,GAEZ,MAAO,CACL8J,QAFc9J,EAAM8J,QAAQwM,OAAO,SAACxN,EAAMyN,GAAP,OAAaF,IAAME,2EAQ1D/M,aAAahK,QAAQ,YAAcoB,KAAKR,SAAS,CAC/C0J,QAASwB,KAAKC,MAAM/B,aAAahK,QAAQ,cAE3CgK,aAAahK,QAAQ,SAAWoB,KAAKR,SAAS,CAC5C4S,KAAM1H,KAAKC,MAAM/B,aAAahK,QAAQ,uDAItB8M,EAAWC,GAC7B/C,aAAagD,QAAQ,UAAWlB,KAAKmB,UAAUF,EAAUzC,UACzDN,aAAagD,QAAQ,OAAQlB,KAAKmB,UAAUF,EAAUyG,kDAGrC7G,EAAWC,GAAW,IAAAzI,EAAA/C,KACnCA,KAAKZ,MAAM0K,aAAe0B,EAAU1B,YACtChB,IAAMC,IAAIT,GAAe,YAAa,CACpCyB,OAAQ,CACND,WAAY9J,KAAKZ,MAAM0K,WAAWE,MAGpCC,QAASlL,iBACRiK,KAAK,SAAAkB,GACN,GAAW,MAAPA,EAAa,CACf,IAAMqF,EAAOrF,EAAIF,KACjBjH,EAAKvD,SAAS,CAACiL,MAAO8E,EAAI,4CAMzB,IAAAtM,EACgCjD,KAAKZ,MAArC8J,EADAjG,EACAiG,QAAS8K,EADT/Q,EACS+Q,QAASlK,EADlB7G,EACkB6G,WACzB,OACEpK,EAAAC,EAAAC,cAAA,WACGI,KAAKoV,gBACN1V,EAAAC,EAAAC,cAACgW,GAAD,CAAqB1M,QAASA,EAASkK,cAAepT,KAAKoT,cACtCrH,UAAW/L,KAAK+L,UAAWC,aAAchM,KAAKgM,aAC9CC,eAAgBjM,KAAKiM,eAAgBC,aAAclM,KAAKkM,aACxDC,cAAenM,KAAKmM,cAAeC,WAAYpM,KAAKoM,WACpD4H,QAASA,EAAS5L,cAAepI,KAAKoI,cAAe0B,WAAYA,YA7L3E5I,kdCtEJ2U,iKAvBX,IACIC,EADS,IAAIC,IAAIC,SAASC,UAAUC,aACrBnN,IAAI,SAKvB,OAJI+M,GACFpX,OAAOC,eAAeiN,QAAQ,QAASkK,GAIvCpW,EAAAC,EAAAC,cAACsC,EAAA,EAAD,KACExC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,KACEjD,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAOwT,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC5W,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAOyT,KAAK,QAAQC,UAAW7B,KAC/B9U,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAOyT,KAAK,SAASC,UAAW,WAE5B,OADA3X,OAAOuX,SAASxV,KX5BP,gCW6BF,kBAhBLS,gCCLZqV,GAAUC,eAEhBC,IAASC,OACLhX,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,CAAQ4T,QAASA,IACb7W,EAAAC,EAAAC,cAAC+W,GAAA,EAAD,KACIjX,EAAAC,EAAAC,cAACgX,GAAD,QAGTZ,SAASa,eAAe","file":"static/js/main.507aa101.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/genie_logo.55938600.png\";","module.exports = __webpack_public_path__ + \"static/media/synergylog_noletter_trans.e4dee3fd.png\";","module.exports = __webpack_public_path__ + \"static/media/mesllogo_noletter_trans.f54aea5b.png\";","module.exports = __webpack_public_path__ + \"static/media/CSELogo_globe_color_trans.4b007226.png\";","module.exports = __webpack_public_path__ + \"static/media/ucsd-logo.057ec865.png\";","import axios from 'axios';\r\n\r\n\r\nexport function getToken() {\r\n  var user_token = eval('(' + window.sessionStorage.getItem(\"user_token\") + ')')\r\n  var now = new Date()\r\n  if (new Date(user_token['expirationDate']) < now) {\r\n      throw \"Token has been expired\";\r\n  }\r\n  return user_token['value']\r\n}\r\n\r\n\r\nexport function getBrickHeaders() {\r\n  var token = window.sessionStorage.getItem(\"token\");\r\n  var headers = {\r\n      \"Authorization\": \"Bearer \" + token\r\n  }\r\n  return headers\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { Button, Header, Icon, Modal } from 'semantic-ui-react'\r\n\r\nexport default class Contact extends Component {\r\n  state = { modalOpen: false }\r\n\r\n  handleOpen = () => this.setState({ modalOpen: true })\r\n\r\n  handleClose = () => this.setState({ modalOpen: false })\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        dimmer={true}\r\n        open={this.props.open}\r\n        onClose={this.props.onClose}\r\n        basic\r\n        size='small'\r\n      >\r\n        <Header icon='address book' content='Contact Us' />\r\n        <Modal.Content>\r\n          <h3>For any questions or issues, please <a href=\"mailto:jbkoh@eng.ucsd.edu\" style={{color: 'chartreuse'}}>email us</a>.</h3>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button onClick={this.props.onClose} inverted>\r\n            <Icon name='checkmark' /> Close\r\n          </Button>\r\n          <Button color='green' href=\"mailto:jbkoh@eng.ucsd.edu\" onClick={this.props.onClose} inverted>\r\n            Contact <Icon name='right arrow' />\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    )\r\n  }\r\n}","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  List,\r\n  Menu,\r\n  Responsive,\r\n  Segment,\r\n  Sidebar,\r\n  Visibility,\r\n  Card\r\n} from \"semantic-ui-react\";\r\n\r\nimport \"./css/Homepage.css\";\r\n\r\nimport logo from \"../static/img/genie_logo.png\";\r\nimport synergy_logo from \"../static/img/synergylog_noletter_trans.png\";\r\nimport mesl_logo from \"../static/img/mesllogo_noletter_trans.png\";\r\nimport cse_logo from \"../static/img/CSELogo_globe_color_trans.png\";\r\nimport ucsd_logo from \"../static/img/ucsd-logo.png\";\r\n\r\nimport Contact from \"./Contactpage\";\r\n\r\n/* eslint-disable react/no-multi-comp */\r\n/* Heads up! HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled components for\r\n * such things.\r\n */\r\nconst HomepageHeading = ({ mobile }) => (\r\n  <Container text >\r\n    <Header\r\n      as=\"h1\"\r\n      inverted\r\n      style={{\r\n        marginTop: mobile ? \"3em\" : \"6em\",\r\n      }}\r\n    >\r\n      <Image src={logo} style={{\r\n        width: mobile ? \"1.5em\" : \"3em\",\r\n        height: mobile ? \"1.5em\" : \"3em\",\r\n      }} />\r\n      <Header.Content style={{\r\n          fontSize: mobile ? \"1.5em\" : \"3em\",\r\n          fontWeight: \"normal\"\r\n        }}>Genie\r\n      </Header.Content>\r\n    </Header>\r\n    <Header\r\n      as=\"h2\"\r\n      content=\"Personalize Your Office Environment\"\r\n      inverted\r\n      style={{\r\n        marginTop: mobile ? \"0.5em\" : \"1em\",\r\n        marginBottom: mobile ? \"1em\" : \"2em\",\r\n        fontSize: mobile ? \"1em\" : \"2em\",\r\n        fontWeight: \"normal\"\r\n      }}\r\n    />\r\n    <Link to={\"/main\"}>\r\n      <Button basic inverted size=\"huge\">\r\n        Get Started\r\n        <Icon name=\"right arrow\" />\r\n      </Button>\r\n    </Link>\r\n  </Container>\r\n);\r\n\r\nconst AboutpageHeading = ({ mobile }) => (\r\n  <Container text >\r\n    <Header\r\n      as=\"h1\"\r\n      inverted\r\n      style={{\r\n        marginTop: mobile ? \"1em\" : \"2em\",\r\n      }}\r\n    >\r\n      <Image src={logo} style={{\r\n        width: mobile ? \"1.5em\" : \"3em\",\r\n        height: mobile ? \"1.5em\" : \"3em\",\r\n      }} />\r\n      <Header.Content style={{\r\n          fontSize: mobile ? \"1.5em\" : \"3em\",\r\n          fontWeight: \"normal\"\r\n        }}>Genie\r\n      </Header.Content>\r\n    </Header>\r\n    <Header\r\n      as=\"h2\"\r\n      content=\"About this project\"\r\n      inverted\r\n      style={{\r\n        fontSize: mobile ? \"1em\" : \"2em\",\r\n        fontWeight: \"normal\"\r\n      }}\r\n    />\r\n    <Header\r\n      as=\"h2\"\r\n      content=\"Genie is a project of the MESL/Synergy Lab at UCSD. \r\n      Genie assists occupants of the Computer Science and Engineering \r\n      building to improve their environment. You can use it to change \r\n      your temperature settings, set your schedule and turn HVAC on/off \r\n      when you need. You can also view history of sensor measurements, \r\n      and send us your feedback using this interface. The goal of this \r\n      project is to make HVAC energy efficient while meeting the comfort\r\n       requirements of the occupant. Please use Genie, feel free to send \r\n       us your suggestions, feedback or maintenance requests, and improve your environment!\r\n      \"\r\n      inverted\r\n      style={{\r\n        marginTop: mobile ? \"0.5em\" : \"1em\",\r\n        marginBottom: mobile ? \"1em\" : \"2em\",\r\n        fontSize: mobile ? \"10px\" : \"20px\",\r\n        fontWeight: \"normal\"\r\n      }}\r\n    />\r\n    <Button href=\"https://genie.ucsd.edu/tips\" basic inverted size=\"huge\">\r\n      How HVAC works\r\n    </Button>\r\n  </Container>\r\n);\r\n\r\nHomepageHeading.propTypes = {\r\n  mobile: PropTypes.bool\r\n};\r\n\r\n/* Heads up!\r\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\r\n * It can be more complicated, but you can create really flexible markup.\r\n */\r\nclass DesktopContainer extends Component {\r\n  state = {\r\n    activeItem: \"home\",\r\n    redirect: false\r\n  };\r\n\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/login' />\r\n    }\r\n  }\r\n\r\n  hideFixedMenu = () => this.setState({ fixed: false });\r\n  showFixedMenu = () => this.setState({ fixed: true });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { fixed, contact, about, activeItem } = this.state;\r\n    const heading = (about) ? <AboutpageHeading /> : <HomepageHeading />;\r\n\r\n    return (\r\n      <Responsive minWidth={Responsive.onlyTablet.minWidth} >\r\n\t{this.renderRedirect()}\r\n        <Visibility\r\n          once={false}\r\n          onBottomPassed={this.showFixedMenu}\r\n          onBottomPassedReverse={this.hideFixedMenu}\r\n        >\r\n          <Segment\r\n            className=\"masthead bg14\"\r\n            inverted\r\n            textAlign=\"center\"\r\n            style={{ minHeight: 600, padding: \"1em 0em\" }}\r\n            vertical\r\n          >\r\n            <Menu\r\n              fixed={fixed ? \"top\" : null}\r\n              inverted={!fixed}\r\n              pointing={!fixed}\r\n              secondary={!fixed}\r\n              size=\"large\"\r\n              style={{\r\n                borderWidth: 0\r\n              }}\r\n            >\r\n              <Container>\r\n                <Menu.Item name=\"home\" as=\"a\" onClick={() => this.setState({about: false, activeItem: \"home\"})} active={activeItem === \"home\"}>\r\n                  Home\r\n                </Menu.Item>\r\n                <Menu.Item name=\"contact\" as=\"a\" onClick={() => this.setState({contact: true, about: false, activeItem: \"contact\"})} active={activeItem === \"contact\"}>\r\n                  Contact\r\n                </Menu.Item>\r\n                <Menu.Item name=\"about\" as=\"a\" onClick={() => this.setState({about: true, activeItem: \"about\"})} active={activeItem === \"about\"}>\r\n                  About\r\n                </Menu.Item>\r\n                <Menu.Item position=\"right\">\r\n                  <Button as=\"a\" inverted={!fixed} onClick={this.setRedirect}>\r\n                    Log in\r\n                  </Button>\r\n                </Menu.Item>\r\n              </Container>\r\n            </Menu>\r\n            {heading}\r\n          </Segment>\r\n        </Visibility>\r\n        {children}\r\n        <Contact open={contact} onClose={() => this.setState({contact: false, about: false})} />\r\n      </Responsive>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nDesktopContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  state = {\r\n    activeItem: \"home\",\r\n    redirect: false\r\n  };\r\n\r\n\r\n  setRedirect = () => {\r\n    this.setState({\r\n      redirect: true\r\n    })\r\n  }\r\n\r\n  renderRedirect = () => {\r\n    if (this.state.redirect) {\r\n      return <Redirect to='/login' />\r\n    }\r\n  }\r\n\r\n  handlePusherClick = () => {\r\n    const { sidebarOpened } = this.state;\r\n\r\n    if (sidebarOpened) this.setState({ sidebarOpened: false });\r\n  };\r\n\r\n  handleToggle = () =>\r\n    this.setState({ sidebarOpened: !this.state.sidebarOpened });\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { sidebarOpened } = this.state;\r\n    const { contact, about, activeItem } = this.state;\r\n    const heading = (about) ? <AboutpageHeading mobile /> : <HomepageHeading mobile />;\r\n\r\n    return (\r\n      <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\r\n\t{this.renderRedirect()}\r\n        <Sidebar.Pushable>\r\n          <Sidebar\r\n            as={Menu}\r\n            animation=\"uncover\"\r\n            vertical\r\n            visible={sidebarOpened}\r\n          >\r\n            <Menu.Item name=\"home\" as=\"a\" \r\n              onClick={() => this.setState({about: false, activeItem: \"home\", \r\n              sidebarOpened: !this.state.sidebarOpened})} active={activeItem === \"home\"}>\r\n              Home\r\n            </Menu.Item>\r\n            <Menu.Item name=\"contact\" as=\"a\" \r\n              onClick={() => this.setState({contact: true, about: false, activeItem: \"contact\", \r\n              sidebarOpened: !this.state.sidebarOpened})} active={activeItem === \"contact\"}>\r\n              Contact\r\n            </Menu.Item>\r\n            <Menu.Item name=\"about\" as=\"a\" \r\n              onClick={() => this.setState({about: true, activeItem: \"about\", \r\n              sidebarOpened: !this.state.sidebarOpened})} active={activeItem === \"about\"}>\r\n              About\r\n            </Menu.Item>\r\n          </Sidebar>\r\n\r\n          <Sidebar.Pusher\r\n            dimmed={sidebarOpened}\r\n            onClick={this.handlePusherClick}\r\n            style={{ minHeight: \"100vh\" }}\r\n          >\r\n            <Segment\r\n              className=\"masthead bg14\"\r\n              inverted\r\n              textAlign=\"center\"\r\n              style={{ minHeight: 350, padding: \"1em 0em\" }}\r\n              vertical\r\n            >\r\n              <Container>\r\n                <Menu inverted pointing secondary size=\"large\" style={{\r\n                  borderWidth: 0\r\n                }}>\r\n                  <Menu.Item onClick={this.handleToggle}>\r\n                    <Icon name=\"sidebar\" />\r\n                  </Menu.Item>\r\n                  <Menu.Item position=\"right\">\r\n                    <Button as=\"a\" inverted onClick={this.setRedirect}>\r\n                      Log in\r\n                    </Button>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              </Container>\r\n              {heading}\r\n            </Segment>\r\n\r\n            {children}\r\n            <Contact open={contact} onClose={() => this.setState({contact: false, about: false})} />\r\n          </Sidebar.Pusher>\r\n        </Sidebar.Pushable>\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nconst ResponsiveContainer = ({ children }) => (\r\n  <div>\r\n    <DesktopContainer>{children}</DesktopContainer>\r\n    <MobileContainer>{children}</MobileContainer>\r\n  </div>\r\n);\r\n\r\nResponsiveContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nclass HomepageLayout extends Component {\r\n  render() {\r\n    return(\r\n      <ResponsiveContainer>\r\n        <Segment style={{ padding: \"8em 0em\" }} vertical>\r\n          <Grid container stackable verticalAlign=\"middle\">\r\n            <Grid.Row>\r\n              <Grid.Column width={8}>\r\n                <header style={{ fontSize: \"2em\", \r\n                fontFamily: \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\r\n                fontWeight: \"normal\",\r\n                color: \"rgba(0,0,0,.87)\",\r\n                paddingBottom: \"16px\"}}>\r\n                  Related Organizations\r\n                </header>\r\n                <Grid container>\r\n                  <Grid.Row>\r\n                    <Grid.Column width={4}>\r\n                      <a href=\"http://synergy.ucsd.edu/\">\r\n                        <Card\r\n                          className={\"hover\"}\r\n                          image={synergy_logo}\r\n                          style={{textAlign: \"center\"}}\r\n                        />\r\n                      </a>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={4}>\r\n                      <a href=\"http://synergy.ucsd.edu/\">\r\n                        <Card\r\n                          className={\"hover\"}\r\n                          image={mesl_logo}\r\n                          style={{textAlign: \"center\"}}\r\n                        />\r\n                      </a>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={4}>\r\n                      <a href=\"http://cse.ucsd.edu/\">\r\n                        <Card\r\n                          className={\"hover\"}\r\n                          image={cse_logo}\r\n                          style={{textAlign: \"center\"}}\r\n                        />\r\n                      </a>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={4}>\r\n                      <a href=\"http://ucsd.edu/\">\r\n                        <Card\r\n                          className={\"hover\"}\r\n                          image={ucsd_logo}\r\n                          style={{textAlign: \"center\", backgroundColor: \"white\"}}\r\n                        />\r\n                      </a>\r\n                    </Grid.Column>\r\n                  </Grid.Row>\r\n                </Grid>\r\n              </Grid.Column>\r\n              <Grid.Column floated=\"right\" width={8}>\r\n                <header style={{ fontSize: \"2em\", \r\n                fontFamily: \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\r\n                fontWeight: \"normal\",\r\n                color: \"rgba(0,0,0,.87)\",\r\n                paddingBottom: \"16px\"}}>\r\n                  Related Sites\r\n                </header>\r\n                <List style={{ fontSize: \"1.33em\",\r\n                fontFamily: \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\r\n                fontWeight: \"normal\", }}>\r\n                  <List.Item>\r\n                    <a href='https://facilities.ucsd.edu/default.htm'>\r\n                      Facilities Information System\r\n                    </a>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <a href='http://172.21.59.229/Ion/'>\r\n                      ION Energy Monitoring System\r\n                    </a>\r\n                    </List.Item>\r\n                  <List.Item>\r\n                    <a href='http://energy.ucsd.edu/'>\r\n                      Energy Dashboard\r\n                    </a>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <a href='https://genie.ucsd.edu/'>\r\n                      Genie - Personal Environment Control\r\n                    </a>\r\n                  </List.Item>\r\n                  <List.Item>\r\n                    <a href='https://brickschema.org/'>\r\n                      Brick Schema\r\n                    </a>\r\n                  </List.Item>\r\n                </List>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid>\r\n        </Segment>\r\n        <Segment inverted vertical textAlign=\"center\" style={{ padding: \"2em 0em\" }} className=\"masthead bg14\">\r\n          <Container>\r\n            <Header as=\"h5\" inverted\r\n            style={{\r\n              fontFamily: \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\r\n              fontWeight: \"normal\",\r\n            }}>\r\n              UC San Diego 9500 Gilman Dr. La Jolla, CA 92093 2013 Regents of the University of California. All rights reserved.\r\n            </Header>\r\n            <Header as=\"h5\" inverted\r\n            style={{\r\n              fontFamily: \"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\",\r\n              fontWeight: \"normal\",\r\n            }}>\r\n              Designed and built by synergy team, based on django and bootstrap        </Header>\r\n          </Container>\r\n        </Segment>\r\n      </ResponsiveContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomepageLayout;\r\n","import React, { Component } from 'react';\r\nimport './Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const menu = this.props.menu\r\n    const home = this.props.home\r\n    return (\r\n      <div className=\"header-container\">\r\n        <h2 className=\"top-header\">{menu}</h2>\r\n        <div className=\"sub-header\">\r\n          <h5>\r\n            {home}\r\n            {menu}\r\n          </h5>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport Header from '../Header/Header';\r\nimport './LeftMenu.css';\r\n\r\nclass SubMenu extends Component {\r\n  render() {\r\n    let subMenu = this.props.submenu;\r\n\r\n    if (subMenu !== null) {\r\n      return (\r\n        <div>\r\n          {subMenu.map(submenu => {\r\n            return (\r\n              <div key={submenu.name} className=\"sub-menu\">\r\n                <Link to={submenu.name}>\r\n                  <Icon name=\"plus\" size=\"small\"/>\r\n                  <span>{submenu.name}</span>\r\n                </Link>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div></div>\r\n    }\r\n  }\r\n}\r\n\r\nclass LeftMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeMenu: 'Dashboard'\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const menus = [\r\n      {\r\n        name: 'Dashboard',\r\n        icon: 'inbox',\r\n      },\r\n      {\r\n        name: 'Account',\r\n        icon: 'user',\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <div className=\"left-menus\">\r\n          {menus.map(item => {\r\n            if (item.submenus) {\r\n              return (\r\n                <div key={item.name}\r\n                  className={this.state.activeMenu === item.name ? 'menu active' : 'menu' }\r\n                  onClick={() => {\r\n                    this.setState({ activeMenu: item.name })\r\n                    this.props.switchAccount(item.name === 'Account')\r\n                  }}\r\n                >\r\n                    <Icon name={item.icon} size=\"large\"/>\r\n                    <span>{item.name}</span>\r\n                    <Icon name={this.state.activeMenu === item.name ? \"angle up\" : \"angle down\" }/>\r\n                  <div className=\"\">\r\n                    <div className={ 'sub-menu-container ' +\r\n                        (this.state.activeMenu === item.name ? 'active' : '') } >\r\n                      <SubMenu submenu={item.submenus} menu={item} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )\r\n            } else {\r\n              return (\r\n                <div name={item.name} key={item.name}\r\n                  className={this.state.activeMenu === item.name ? 'menu active' : 'menu' }\r\n                  onClick={() => {\r\n                    this.setState({ activeMenu: item.name })\r\n                    this.props.switchAccount(item.name === 'Account')\r\n                  }}\r\n                >\r\n                  <Icon name={item.icon} size=\"large\"/>\r\n                  <span>{item.name}</span>\r\n                </div>)\r\n            }\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeftMenu;\r\n","export const LOGIN_URL = 'http://127.0.0.1:5000/api/log';\r\nexport const BASE_API_URL = 'http://127.0.0.1:9000/brickapi/v1/apps/domains/bldg/api';\r\n// /api/v1/appapi/Genie\r\n","import React, { Component } from 'react';\r\nimport { Dropdown } from 'semantic-ui-react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { BASE_API_URL } from '../../../config'\r\n\r\n\r\nclass MyPage extends Component {\r\n  state = {\r\n    redir: false\r\n  };\r\n  \r\n  switchPage = (e, {value}) => {\r\n    if(value === 'profile') {\r\n      this.props.switchAccount(true)\r\n    }\r\n    else if(value === 'sign-out') {\r\n      localStorage.clear();\r\n      sessionStorage.clear();\r\n      axios.get(BASE_API_URL+'/api/logout')\r\n        .then(() => {\r\n\t\tthis.setState({ redir: true })\r\n\t})\r\n    }\r\n  }\r\n\r\n  renderRedir = () => {\r\n    if (this.state.redir) {\r\n      return <Redirect to='/' />\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const options = [\r\n      {\r\n        key: 'user',\r\n        value: 'user', \r\n        text: (\r\n          <span>\r\n            Signed in as <strong>{this.props.user}</strong>\r\n          </span>\r\n        ),\r\n        disabled: true\r\n      },\r\n      { key: 'profile', value: 'profile', text: 'Your Profile' },\r\n      { key: 'sign-out', value: 'sign-out', text: 'Sign Out' }\r\n    ];\r\n\r\n    return(\r\n\t<div>\r\n\t  {this.renderRedir()}\r\n          <Dropdown trigger={this.props.trigger} options={options} onChange={this.switchPage} />\r\n\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyPage;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router';\r\nimport { Menu, Icon } from 'semantic-ui-react';\r\nimport {getBrickHeaders} from '../BrickApi.js';\r\nimport MyMenu from './MyMenu';\r\nimport './TopMenu.css';\r\nimport { BASE_API_URL } from '../../../config'\r\n\r\n\r\nclass TopMenu extends Component {\r\n  state = { activeItem: 'home', user: 'User' };\r\n\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const {user_email} = props\r\n    if(user_email != null) {\r\n      if(user_email !== state.user_email) { \r\n\taxios.get(BASE_API_URL+'/api/user', {\r\n\t    params: {\r\n\t\t    user_email: user_email.data\r\n      },\r\n      headers: getBrickHeaders()\r\n\t})\r\n\t    .then(res => {\r\n\t\tif(res != null \r\n\t\t    && res.data != null\r\n\t\t    && res.data['value'] != null) {\r\n\t\t    return { \r\n\t\t      user: res.data['value'],\r\n\t\t      user_email: user_email,\r\n\t\t    };\r\n\t\t}\r\n\t\telse {\r\n\t\t    return { \r\n\t\t      user: 'User',\r\n\t\t      user_email: user_email,\r\n\t\t    };\r\n\t\t}\r\n\t    })\r\n      }\r\n      else {\r\n      \treturn null;\r\n      }\r\n    } \r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { activeItem, user } = this.state;\r\n\r\n    let iconStyle = {\r\n      margin: '0 10px 0 0'\r\n    };\r\n\r\n    const trigger = (\r\n      <span>\r\n        <Icon name=\"user\" size=\"large\" style={iconStyle} /> {user}\r\n      </span>\r\n    );\r\n    return (\r\n      <Menu pointing secondary className=\"top-menu\">\r\n        <Menu.Menu postion=\"left\" className=\"menu-logo\">\r\n          <Menu.Item position=\"left\">\r\n            <Link to=\"dashboard\">Genie</Link>\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n\r\n        <Menu.Menu className=\"center menu\">\r\n          <Menu.Item\r\n            name=\"home\"\r\n            onClick={() => {\r\n              this.setState({ activeItem: 'home' })\r\n              this.props.switchAccount(false)\r\n            }}\r\n            active={activeItem === 'home'}\r\n          >\r\n            <Icon name=\"inbox\" size=\"large\" style={iconStyle} />\r\n            <span>Dashboard</span>\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n\r\n        <Menu.Menu className=\"right menu\">\r\n          <Menu.Item \r\n            name=\"setting\" \r\n            onClick={this.handleItemClick} \r\n            active={activeItem === \"setting\"}\r\n          >\r\n            <MyMenu trigger={trigger} switchAccount={this.props.switchAccount} user={user} />\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      </Menu>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TopMenu;\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {Grid, Dropdown, Segment, Divider, Icon, Button, Breadcrumb, List} from 'semantic-ui-react';\r\nimport './Search.css';\r\nimport {BASE_API_URL} from '../../../config'\r\nimport {getBrickHeaders} from '../BrickApi.js';\r\n\r\n\r\nclass Dashboard extends Component {\r\n  state = {\r\n    openSearch: true,\r\n    collegeOptions: [],\r\n    campusOptions: [],\r\n    buildingOptions: [],\r\n    roomOptions: [],\r\n    rooms: []\r\n  }\r\n\r\n  componentWillMount() {\r\n    localStorage.getItem('openSearch') && this.setState({\r\n      openSearch: JSON.parse(localStorage.getItem('openSearch'))\r\n    })\r\n  }\r\n\r\n  optionObject(option) {\r\n    return {key: option, value: option, text: option}\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const {user_email} = props;\r\n    if (user_email != null) {\r\n      if (user_email !== state.user_email) {\r\n        return {\r\n          user_email: user_email\r\n        };\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  getRoom() {\r\n    axios.get(BASE_API_URL + '/api/room', {\r\n      // params: {\r\n      //   user_email: this.props.user_email.data,\r\n      // },\r\n      headers: getBrickHeaders()\r\n    })\r\n      .then(res => {\r\n        if (res != null) {\r\n          const rooms = res.data;\r\n          this.setState({rooms});\r\n          rooms['rooms'].map((room) => {\r\n            const collegeOption = {key: room.college, value: room.college, text: room.college}\r\n            const campusOption = {key: room.campus, value: room.campus, text: room.campus}\r\n            const buildingOption = {key: room.building, value: room.building, text: room.building}\r\n            const roomOption = {key: room.room, value: room.room, text: room.room}\r\n            this.setState(\r\n              state => {\r\n                if (!state.collegeOptions.includes(collegeOption))\r\n                  state.collegeOptions.push(collegeOption)\r\n                if (!state.campusOptions.includes(campusOption))\r\n                  state.campusOptions.push(campusOption)\r\n                if (!state.buildingOptions.includes(buildingOption))\r\n                  state.buildingOptions.push(buildingOption)\r\n                if (!state.roomOptions.includes(roomOption))\r\n                  state.roomOptions.push(roomOption)\r\n                const collegeOptions = state.collegeOptions\r\n                const campusOptions = state.campusOptions\r\n                const buildingOptions = state.buildingOptions\r\n                const roomOptions = state.roomOptions\r\n                return {\r\n                  collegeOptions,\r\n                  campusOptions,\r\n                  buildingOptions,\r\n                  roomOptions\r\n                }\r\n              }\r\n            )\r\n          })\r\n        }\r\n      })\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.user_email !== prevProps.user_email) {\r\n      this.getRoom();\r\n    }\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   this.getRoom();\r\n  // }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    localStorage.setItem('openSearch', JSON.stringify(nextState.openSearch))\r\n  }\r\n\r\n  render() {\r\n    const {openSearch, collegeOptions, campusOptions, buildingOptions, roomOptions} = this.state\r\n    const {\r\n      onAddItem, onRemoveItem, changeBuilding, changeCampus, changeCollege,\r\n      changeRoom, options\r\n    } = this.props\r\n    const message = openSearch ? 'Hide Room List' : 'Show Room List'\r\n    const table = (openSearch) ? (\r\n      options.map((option, index) => (\r\n        <List.Item floated=\"left\">\r\n          <List.Content>\r\n            <List.Header>\r\n              <Icon name=\"building\"/>\r\n              <Breadcrumb icon='right angle' sections={[\r\n                {key: option.college.value, content: option.college.value, link: false},\r\n                {key: option.campus.value, content: option.campus.value, link: false},\r\n                {key: option.building.value, content: option.building.value, link: false},\r\n                {key: option.room.value, content: option.room.value, link: false},\r\n              ]} style={{marginLeft: 10}}/>\r\n              <Button compact color=\"red\" size=\"mini\"\r\n                      onClick={() => onRemoveItem(index)}\r\n                      basic style={{marginLeft: 10}}>Delete</Button>\r\n            </List.Header>\r\n          </List.Content>\r\n        </List.Item>\r\n      ))\r\n    ) : (<div></div>)\r\n    return (\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column textAlign=\"center\">\r\n            <Segment className={\"search\"} color=\"teal\">\r\n              <Grid>\r\n                <Grid.Row textAlign=\"center\">\r\n                  <Grid.Column>\r\n                    <Button icon=\"search\" basic style={{marginRight: 3}}/>\r\n                    <Dropdown placeholder='College' clearable search selection options={collegeOptions}\r\n                              onChange={changeCollege} style={{minWidth: 90}}/>\r\n                    <Icon name='right angle'/>\r\n                    <Dropdown placeholder='Campus' clearable search selection options={campusOptions}\r\n                              onChange={changeCampus} style={{minWidth: 90}}/>\r\n                    <Icon name='right angle'/>\r\n                    <Dropdown placeholder='Building' clearable search selection options={buildingOptions}\r\n                              onChange={changeBuilding} style={{minWidth: 90}}/>\r\n                    <Icon name='right angle'/>\r\n                    <Dropdown placeholder='Room' clearable search selection options={roomOptions}\r\n                              onChange={changeRoom} style={{minWidth: 90}}/>\r\n                    <Button size=\"small\" color=\"green\" compact style={{\r\n                      marginLeft: 15\r\n                    }} onClick={onAddItem} basic>Add</Button>\r\n                  </Grid.Column>\r\n                </Grid.Row>\r\n                <Divider style={{marginTop: 0, marginBottom: 0, paddingBottom: 0, paddingTop: 0}}/>\r\n                <Grid.Row textAlign=\"center\">\r\n                  <Grid.Column>\r\n                    <List animated selection divided verticalAlign='middle' style={{marginTop: 0, paddingTop: 0}}>\r\n                      {table}\r\n                    </List>\r\n                    <Button basic compact size=\"mini\" floated=\"right\" onClick={() => {\r\n                      this.setState({openSearch: !openSearch})\r\n                    }} color={(openSearch) ? 'red' : 'green'}>{message}</Button>\r\n                  </Grid.Column>\r\n                </Grid.Row>\r\n              </Grid>\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react';\r\nimport { Card, Grid, Icon, Header, Divider } from 'semantic-ui-react';\r\nimport './DateWeather.css';\r\nimport Clock from 'react-live-clock';\r\n\r\nclass DateWeather extends Component {\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Card fluid color='red' className={\"gradient\"} >\r\n                    <Grid>\r\n                        <Grid.Row style={{\r\n                            paddingTop: 40,\r\n                            paddingBottom: 0,\r\n                            minHeight: 101\r\n                        }}>\r\n                            <Grid.Column width={6} style={{\r\n                                textAlign: \"center\",\r\n                                paddingTop: 0\r\n                            }} >\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Icon name={\"clock outline\"} size='huge' style={{\r\n                                        color: \"rgb(143, 201, 251)\"\r\n                                    }} />\r\n                                </Grid.Row>\r\n                            </Grid.Column>\r\n                            <Grid.Column width={10} style={{\r\n                                textAlign: \"left\",\r\n                                paddingTop: 0\r\n                            }} >\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Clock\r\n                                        className={\"dashboard\"}\r\n                                        format={'HH:mm:ss'}\r\n                                        ticking={true} />\r\n                                </Grid.Row>\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Clock\r\n                                        className={\"dashboard\"}\r\n                                        format={'ddd'}\r\n                                        ticking={true} />\r\n                                </Grid.Row>\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Clock\r\n                                        className={\"dashboard\"}\r\n                                        format={'MMM/DD/YYYY'}\r\n                                        ticking={true} />\r\n                                </Grid.Row>\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row style={{\r\n                            paddingTop: 0,\r\n                            paddingBottom: 0,\r\n                            height: 2\r\n                        }}>\r\n                            <Grid.Column>\r\n                                <Divider />\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row style={{\r\n                            paddingTop: 40,\r\n                            paddingBottom: 0,\r\n                            minHeight: 101\r\n                        }}>\r\n                            <Grid.Column width={6} style={{\r\n                                textAlign: \"center\",\r\n                                paddingTop: 0\r\n                            }} >\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Icon name={\"snowflake outline\"} size='huge' style={{\r\n                                        color: \"rgb(143, 201, 251)\"\r\n                                    }} />\r\n                                </Grid.Row>\r\n                            </Grid.Column>\r\n                            <Grid.Column width={10} style={{\r\n                                textAlign: \"left\",\r\n                                paddingTop: 0\r\n                            }} >\r\n                                <Grid.Row style={{\r\n                                }} >\r\n                                    <Header className={\"dashboard\"}>\r\n                                        {\"clear\"}\r\n                                    </Header>\r\n                                </Grid.Row>\r\n                                <Grid.Row style={{\r\n                                    paddingTop: 10\r\n                                }} >\r\n                                    <Header className={\"dashboard\"}>\r\n                                        {\"63.8 F\"}\r\n                                    </Header>\r\n                                </Grid.Row>\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                    </Grid>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DateWeather;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Grid, Icon, Header, Segment, Divider, Statistic, Message } from 'semantic-ui-react';\r\nimport './Segment.css';\r\nimport {getToken, getBrickHeaders} from '../BrickApi.js';\r\nimport Bar from 'react-meter-bar';\r\nimport { BASE_API_URL } from '../../../config'\r\n\r\n\r\nconst WarningObject = ({icon, color, title, mobile}) => (\r\n    <Segment  raised style={{minHeight: \"204px\"}} color=\"red\">\r\n        <Grid>\r\n            <Grid.Row>\r\n                <Grid.Column width={6} style={{\r\n                    textAlign: \"center\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Icon name={icon} size={mobile ? 'huge' : 'huge'} style={{\r\n                            color: color\r\n                        }} />\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n                <Grid.Column width={10} style={{\r\n                    textAlign: \"left\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Header className=\"segtitle\">{title}</Header>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 15,\r\n                    }} >\r\n                        <Message negative>\r\n                            <Icon name='warning' />\r\n                            No Data Found\r\n                        </Message>\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    </Segment>\r\n);\r\n\r\nconst SegmentObject = ({icon, color, title, value, label, labels, progress, mobile}) => (\r\n    <Segment  raised style={{minHeight: \"204px\"}} color=\"red\">\r\n        <Grid>\r\n            <Grid.Row>\r\n                <Grid.Column width={6} style={{\r\n                    textAlign: \"center\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Icon name={icon} size={mobile ? 'huge' : 'huge'} style={{\r\n                            color: color\r\n                        }} />\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n                <Grid.Column width={10} style={{\r\n                    textAlign: \"left\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Header className=\"segtitle\">{title}</Header>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 15,\r\n                    }} >\r\n                        <Bar\r\n                            labels={labels}\r\n                            labelColor=\"#666\"\r\n                            progress={progress}\r\n                            barColor=\"#fff34b\"\r\n                            seperatorColor=\"hotpink\"\r\n                        />\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 20,\r\n                    }} >\r\n                        <Statistic size=\"small\" horizontal floated={\"right\"} >\r\n                            <Statistic.Value>{value}<span style={{ fontSize:12 }}>{label}</span></Statistic.Value>\r\n                        </Statistic>\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    </Segment>\r\n);\r\n\r\nclass SegmentComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context)\r\n    this.state = {\r\n        energy_value: 0,\r\n        temperature_value: 60,\r\n        energy_error: false,\r\n        temperature_error: false\r\n    }\r\n    this.get_energy_usage.bind(this)\r\n    this.get_room_temperature.bind(this)\r\n  }\r\n\r\n  get_statuses(option, user_email) {\r\n    this.get_room_temperature(option, user_email);\r\n    this.get_energy_usage(option, user_email);\r\n  }\r\n\r\n\r\n  get_energy_usage(option, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.get(BASE_API_URL+'/api/point/energy/' + roomkey, {\r\n    \tparams: {\r\n\t\tuser_email: user_email.data,\r\n    },\r\n    headers: getBrickHeaders()\r\n    })\r\n        .then(res => {\r\n            if(res != null \r\n                && res.data != null \r\n                && res.data['value'] != null) {\r\n                const resp = res.data;\r\n                console.log('energy usage', resp['value'].toFixed(2));\r\n                this.setState({ energy_value: resp['value'].toFixed(2),\r\n                                energy_error: false });\r\n            }\r\n            else {\r\n                this.setState({ energy_error: true });\r\n            }\r\n        })\r\n  }\r\n\r\n  get_room_temperature(option, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.get(BASE_API_URL+'/api/point/temp/' + roomkey, {\r\n    \tparams: {\r\n\t\t  user_email: user_email.data\r\n        },\r\n        headers: getBrickHeaders()\r\n    })\r\n        .then(res => {\r\n            if(res != null \r\n                && res.data != null \r\n                && res.data['value'] != null) {\r\n                const resp = res.data;\r\n                console.log('temperature', resp['value'].toFixed(2));\r\n                this.setState({ temperature_value: resp['value'],\r\n                                temperature_error: false });\r\n            }\r\n            else {\r\n                this.setState({ temperature_error: true });\r\n            }\r\n        })\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { user_email } = props;\r\n    if(user_email != null) {\r\n      if(user_email !== state.user_email) {\r\n        return {\r\n                user_email: user_email\r\n        };\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState) {\r\n    const { option, user_email } = this.props;\r\n    var intervalId;\r\n    if(user_email != null) {\r\n      if(typeof prevProps === 'undefined' || user_email !== prevProps.user_email) {\r\n    //this.get_statuses(option, user_email);\r\n    intervalId = setInterval(this.get_statuses.bind(this), 3000, option, user_email);\r\n          /*\r\n\tthis.get_energy_usage(option, user_email);\r\n\tthis.get_room_temperature(option, user_email);\r\n    */\r\n      }\r\n    }\r\n    else if(localStorage.getItem('user_id')) {\r\n        let user_id = JSON.parse(localStorage.getItem('user_id'))\r\n    //this.get_statuses(option, user_id);\r\n    intervalId = setInterval(this.get_statuses.bind(this), 3000, option, user_id);\r\n        /*\r\n\tthis.get_energy_usage(option, user_id);\r\n\tthis.get_room_temperature(option, user_id);\r\n    */\r\n    } else {\r\n        console.log('THIS SHOULD NOT BE REACHED')\r\n    }\r\n    this.setState({intervalId: intervalId});\r\n  }\r\n\r\n  render() {\r\n    const { energy_value, temperature_value, energy_error, temperature_error } = this.state;\r\n    const energy_progress = energy_value / 10.0 * 100.0;\r\n    const temperature_progress = (temperature_value - 60.0) / 20.0 * 100.0;\r\n    const mobile_labels = (this.props.mobile) ? [60,65,70,75,80] : [60,64,68,72,76,80];\r\n    const EnergyPanel = (energy_error) ? (\r\n        <WarningObject icon={\"tachometer alternate\"} color={\"rgb(216, 151, 235)\"} \r\n        title={\"Energy Usage\"} mobile={this.props.mobile} />\r\n    ) : (\r\n        <SegmentObject icon={\"tachometer alternate\"} color={\"rgb(216, 151, 235)\"} \r\n        title={\"Energy Usage\"} value={energy_value} label={\"kW\"} \r\n        labels={[0,2,4,6,8,10]} progress={energy_progress} \r\n        mobile={this.props.mobile} />\r\n    );\r\n    const TemperaturePanel = (temperature_error) ? (\r\n        <WarningObject icon={\"thermometer\"} color={\"rgb(100, 234, 145)\"} \r\n        title={\"Room Temperature\"} mobile={this.props.mobile} />\r\n    ) : (\r\n        <SegmentObject icon={\"thermometer\"} color={\"rgb(100, 234, 145)\"} \r\n        title={\"Room Temperature\"} value={temperature_value.toFixed(2)} label={\"F\"}\r\n        labels={mobile_labels} progress={temperature_progress}\r\n        mobile={this.props.mobile} />\r\n    );\r\n    return (\r\n        <Grid container={this.props.mobile} stackable={this.props.mobile}>\r\n            <Grid.Row>\r\n                <Grid.Column>\r\n                    <Divider horizontal style={{ marginLeft: \"15px\", marginRight: \"15px\" }} >\r\n                        <Header as='h3' className=\"segtitle\">\r\n                            {this.props.title}\r\n                        </Header>\r\n                    </Divider>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row>\r\n                <Grid.Column width={8} >\r\n                    {EnergyPanel}\r\n                </Grid.Column>\r\n                <Grid.Column width={8} >\r\n                    {TemperaturePanel}\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SegmentComponent;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Grid, Icon, Header, Segment, Divider, Statistic, Button, Message } from 'semantic-ui-react';\r\nimport './Segment.css';\r\nimport {getBrickHeaders} from '../BrickApi.js';\r\nimport Slider from 'react-input-slider';\r\nimport { BASE_API_URL } from '../../../config'\r\n\r\n\r\nconst WarningObject = ({icon, color, title, mobile, msg}) => (\r\n    <Segment  raised style={{minHeight: \"204px\"}} color=\"red\">\r\n        <Grid>\r\n            <Grid.Row>\r\n                <Grid.Column width={6} style={{\r\n                    textAlign: \"center\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Icon name={icon} size={mobile ? 'huge' : 'huge'} style={{\r\n                            color: color\r\n                        }} />\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n                <Grid.Column width={10} style={{\r\n                    textAlign: \"left\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Header className=\"segtitle\">{title}</Header>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 15,\r\n                    }} >\r\n                        <Message negative>\r\n                            <Icon name='warning' />\r\n                            {msg}\r\n                        </Message>\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    </Segment>\r\n);\r\n\r\nconst SegmentObject = ({icon, color, title, value, label, handleChangeTemp, mobile}) => (\r\n    <Segment className={\"glowfloat\"} raised style={{minHeight: \"204px\"}} color=\"violet\">\r\n        <Grid>\r\n            <Grid.Row>\r\n                <Grid.Column width={6} style={{\r\n                    textAlign: \"center\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Icon name={icon} size={mobile ? 'huge' : 'huge'} style={{\r\n                            color: color,\r\n                            marginTop: \"50% !important\",\r\n                        }} />\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n                <Grid.Column width={10} style={{\r\n                    textAlign: \"left\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Header className=\"segtitle\">{title}</Header>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 15,\r\n                    }} >\r\n                        <Slider\r\n                            styles={{\r\n                                track: {\r\n                                    width: '100% !important',\r\n                                },\r\n                                active: {\r\n                                    backgroundColor: 'rgb(248, 200, 46)'\r\n                                }\r\n                            }}\r\n                            axis=\"x\"\r\n                            xmin={67}\r\n                            xmax={73}\r\n                            xstep={0.5}\r\n                            x={value}\r\n                            onChange={({x}) => handleChangeTemp(x)}\r\n                        />\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 20,\r\n                    }} >\r\n                      <Statistic size=\"small\" horizontal floated={\"right\"} >\r\n                          <Statistic.Value>{value}<span style={{ fontSize:12 }}>{label}</span></Statistic.Value>\r\n                      </Statistic>\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    </Segment>\r\n);\r\n\r\nconst SwitchObject = ({icon, color, title, value, toggleStatus, mobile, loading}) => (\r\n    <Segment className={\"glowfloat\"} raised style={{minHeight: \"204px\"}} color=\"teal\">\r\n        <Grid>\r\n            <Grid.Row>\r\n                <Grid.Column width={6} style={{\r\n                    textAlign: \"center\",\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Icon disabled={value === \"OFF\"} name={icon} size={mobile ? 'huge' : 'huge'} style={{\r\n                            color: (value === \"OFF\") ? \"#666\" : color,\r\n                            marginTop: \"50% !important\",\r\n                        }} />\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n                <Grid.Column width={10} style={{\r\n                    marginTop: 0\r\n                }} >\r\n                    <Grid.Row style={{\r\n                        marginTop: 40,\r\n                    }} >\r\n                        <Header className=\"segtitle\">{title}</Header>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 15,\r\n                    }} >\r\n                        <Button icon labelPosition='right' loading={loading}\r\n                            color={value === \"OFF\" ? 'blue' : 'red'} onClick={toggleStatus} \r\n                            style={{width: '100% !important'}}>\r\n                            {value === \"OFF\" ? \"Turn On\" : \"Turn Off\"}\r\n                            <Icon name={value === \"OFF\" ? \"toggle on\" : \"toggle off\"} />\r\n                        </Button>\r\n                    </Grid.Row>\r\n                    <Grid.Row style={{\r\n                        marginTop: 20,\r\n                    }} >\r\n                      <Statistic size=\"small\" horizontal floated={\"left\"}>  \r\n                        <Statistic.Value>{value}</Statistic.Value>\r\n                      </Statistic>\r\n                    </Grid.Row>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    </Segment>\r\n);\r\n\r\nclass SegmentComponent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context)\r\n    this.state = {\r\n        status: 1,\r\n        temperature: 73,\r\n        status_error: false,\r\n        setpoint_error: false,\r\n        loading: false\r\n    }\r\n    this.get_status.bind(this)\r\n    this.get_temp_setpoint.bind(this)\r\n  }\r\n\r\n  toggleStatus = () => {\r\n    const { option, user_email } = this.props;\r\n    const status = (this.state.status === 3) ? 1 : 3\r\n    this.setState({loading: true})\r\n    this.set_status(option, status.toString(), status, user_email)\r\n  }\r\n\r\n  handleChangeTemp = (temperature) => {\r\n      const { option, user_email } = this.props;\r\n      this.set_temp_setpoint(option, temperature, user_email)\r\n      this.setState({\r\n        temperature: temperature\r\n      })\r\n  }\r\n\r\n  get_status(option, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.get(BASE_API_URL+'/api/point/status/' + roomkey, {\r\n      params: {\r\n\t\tuser_email: user_email.data\r\n\t  },\r\n      headers: getBrickHeaders(),\r\n    }).then(res => {\r\n            if (res.data.status_code === 401) {\r\n                console.log('NOT AUTHORIZED')\r\n                this.setState({status_error: 401});\r\n            } else if (res != null && res.data != null && res.data['value'] != null) {\r\n                console.log('EMPTY DATA')\r\n                const resp = res.data;\r\n                this.setState({ status: resp['value'],\r\n                                status_error: false});\r\n            }\r\n            else {\r\n                this.setState({ status_error: 400 });\r\n            }\r\n    })\r\n  }\r\n\r\n  get_temp_setpoint(option, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.get(BASE_API_URL+'/api/point/setpoint/' + roomkey, {\r\n   \t  params: {\r\n\t\tuser_email: user_email.data\r\n\t  },\r\n      headers: getBrickHeaders(),\r\n    })\r\n        .then(res => {\r\n            if (res.data.status_code === 401) {\r\n                console.log('NOT AUTHORIZED')\r\n                this.setState({setpoint_error: 401});\r\n            } else if(res != null\r\n                && res.data != null \r\n                && res.data['value'] != null) {\r\n                const resp = res.data;\r\n                this.setState({ temperature: resp['value'],\r\n                                setpoint_error: false});\r\n            }\r\n            else {\r\n                console.log('No Data')\r\n                this.setState({ setpoint_error: 400});\r\n            }\r\n        })\r\n  }\r\n\r\n  set_status(option, status, numStatus, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.post(BASE_API_URL+'/api/point/status/' + roomkey, { value: status }, {\r\n\t    params: {\r\n\t    \tuser_email: user_email.data\r\n\t    },\r\n        headers: getBrickHeaders(),\r\n    })\r\n        .then(res => {\r\n            this.setState({\r\n              status: numStatus,\r\n              loading: false\r\n            })\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n  }\r\n\r\n  set_temp_setpoint(option, temp, user_email) {\r\n    //const roomkey = option.building.value.toLowerCase() + ':' +\r\n    //    option.building.value + '_Rm_' + option.room.value\r\n    const roomkey = option.room.value\r\n    axios.post(BASE_API_URL+'/api/point/setpoint/' + roomkey, { value: temp }, {\r\n   \t  params: {\r\n\t\tuser_email: user_email.data\r\n\t  },\r\n      headers: getBrickHeaders(),\r\n    })\r\n        .then(function (response) {\r\n            console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { user_email } = props;\r\n    if(user_email != null) {\r\n      if(user_email !== state.user_email) {\r\n        return {\r\n\t\tuser_email: user_email\r\n\t};\r\n      }\r\n      else {\r\n      \treturn null;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  get_ctrls(option, user_email) {\r\n      this.get_status(option, user_email);\r\n      this.get_temp_setpoint(option, user_email);\r\n  }\r\n\r\n  componentDidMount(prevProps, prevState) {\r\n    const { option, user_email } = this.props;\r\n    var intervalId;\r\n    if(user_email != null) {\r\n      if(typeof prevProps === 'undefined' || user_email !== prevProps.user_email) {\r\n          /*\r\n\tthis.get_status(option, user_email);\r\n\tthis.get_temp_setpoint(option, user_email);\r\n    */\r\n        intervalId = setInterval(this.get_ctrls.bind(this), 3000, option, user_email);\r\n      }\r\n    }\r\n    else if(localStorage.getItem('user_id')) {\r\n\tlet user_id = JSON.parse(localStorage.getItem('user_id'))\r\n        intervalId = setInterval(this.get_ctrls.bind(this), 3000, option, user_id);\r\n          /*\r\n\tthis.get_status(option, user_id);\r\n\tthis.get_temp_setpoint(option, user_id);\r\n    */\r\n    }\r\n    this.setState({intervalId: intervalId});\r\n  }\r\n\r\n  render() {\r\n    const { status, temperature, loading, status_error, setpoint_error } = this.state;\r\n    var StatusPanel;\r\n    if (status_error === 401) {\r\n        StatusPanel = (\r\n        <WarningObject icon={\"power off\"} color={\"rgb(143, 201, 251)\"}\r\n        title={\"Status\"} mobile={this.props.mobile} msg={\"Unauthorized\"}/>\r\n        );\r\n    } else if (status_error === 400) {\r\n        StatusPanel = (\r\n        <WarningObject icon={\"power off\"} color={\"rgb(143, 201, 251)\"}\r\n        title={\"Status\"} mobile={this.props.mobile} msg={\"No data found\"}/>\r\n        //title={\"Status\"} mobile={this.props.mobile} />\r\n        );\r\n    } else {\r\n        StatusPanel = (\r\n            <SwitchObject icon={\"power off\"} color={\"rgb(143, 201, 251)\"}\r\n            title={\"Status\"} value={(status === 3) ? \"ON\" : \"OFF\"}\r\n            toggleStatus={this.toggleStatus} mobile={this.props.mobile} loading={loading} />\r\n        );\r\n    }\r\n      /*\r\n    const StatusPanel = (status_error) ? (\r\n        <WarningObject icon={\"power off\"} color={\"rgb(143, 201, 251)\"}\r\n        title={\"Status\"} mobile={this.props.mobile} />\r\n    ) : (   \r\n        <SwitchObject icon={\"power off\"} color={\"rgb(143, 201, 251)\"} \r\n\t    title={\"Status\"} value={(status === 3) ? \"ON\" : \"OFF\"}\r\n\t    toggleStatus={this.toggleStatus} mobile={this.props.mobile} loading={loading} />\r\n    );              \r\n    */\r\n    var SetpointPanel;\r\n    if (setpoint_error === 401) {\r\n    \tSetpointPanel = (\r\n        <WarningObject icon={\"thermometer quarter\"} color={\"rgb(248, 200, 46)\"}\r\n        title={\"Temperature\"} mobile={this.props.mobile} msg={\"Unauthorized\"}/>\r\n        )\r\n    } else if (setpoint_error === 400) {\r\n    \tSetpointPanel = (\r\n        <WarningObject icon={\"thermometer quarter\"} color={\"rgb(248, 200, 46)\"}\r\n        title={\"Temperature\"} mobile={this.props.mobile} msg={\"No data found\"}/>\r\n        )\r\n    } else {\r\n    \tSetpointPanel = (\r\n            <SegmentObject icon={\"thermometer quarter\"} color={\"rgb(248, 200, 46)\"}\r\n\t    title={\"Temperature\"} value={temperature} label={\"F\"}\r\n\t    handleChangeTemp={this.handleChangeTemp} mobile={this.props.mobile} />\r\n        )\r\n    }\r\n    return (\r\n        <Grid container={this.props.mobile} stackable={this.props.mobile}>\r\n            <Grid.Row>\r\n                <Grid.Column>\r\n                    <Divider horizontal style={{ marginLeft: \"15px\", marginRight: \"15px\" }} >\r\n                        <Header as='h3' className=\"segtitle\" >\r\n                            {this.props.title}\r\n                        </Header>\r\n                    </Divider>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row>\r\n                <Grid.Column width={8} >\r\n\t    \t\t{StatusPanel}\r\n                </Grid.Column>\r\n                <Grid.Column width={8} >\r\n\t    \t\t{SetpointPanel}\r\n               </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SegmentComponent;\r\n","import React, { Component } from 'react';\r\nimport { Segment, Breadcrumb, Button, Grid, Responsive } from 'semantic-ui-react';\r\nimport './Meter.css'\r\nimport EnvInfo from '../Segment/EnvInfo'\r\nimport HVACCtl from '../Segment/HVACCtl'\r\n\r\nclass Meter extends Component {\r\n    state = {\r\n        openMeter: true,\r\n\tuser_email: null\r\n    }\r\n\r\n    componentWillMount() {\r\n        localStorage.getItem('openMeter') && this.setState({\r\n            openMeter: JSON.parse(localStorage.getItem('openMeter'))\r\n        })\r\n    }\r\n  \r\n    componentDidMount() {\r\n      if(!localStorage.getItem('openMeter')) {\r\n        //todo: fetch data\r\n      }\r\n    }\r\n\r\n    componentWillUpdate(nextProps, nextState) {\r\n        localStorage.setItem('openMeter', JSON.stringify(nextState.openMeter))\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n      const { user_email } = props;\r\n      if(user_email != null) {\r\n\tif(user_email !== state.user_email) {\r\n\t  return {\r\n\t\t  user_email: user_email\r\n\t  };\r\n\t}\r\n\telse {\r\n\t  return null;\r\n\t}\r\n      }\r\n      return null;\r\n    }\r\n\r\n    render() {\r\n        const {option} = this.props\r\n\tconst {user_email} = this.state\r\n        const sections = [\r\n            { key: option.college.value, content: option.college.value, link: false },\r\n            { key: option.campus.value, content: option.campus.value, link: false },\r\n            { key: option.building.value, content: option.building.value, link: false },\r\n            { key: option.room.value, content: option.room.value, link: false },\r\n        ]\r\n        const {openMeter} = this.state;\r\n        const icon = openMeter ? 'angle up' : 'angle down'\r\n        const control = openMeter ? (\r\n            <Responsive as={Segment}>\r\n                <Grid container={this.props.mobile} stackable={this.props.mobile}>\r\n                    <Grid.Row columns={2}>\r\n                        <Grid.Column width={8}>\r\n                            <EnvInfo title={\"Environment Information\"} option={option} mobile={this.props.mobile} user_email={user_email} />\r\n                        </Grid.Column>\r\n                        <Grid.Column width={8}>\r\n                            <HVACCtl title={\"HVAC Control\"} option={option} mobile={this.props.mobile} user_email={user_email} />\r\n                        </Grid.Column>\r\n                    </Grid.Row>\r\n                </Grid>\r\n            </Responsive>\r\n        ) : (<div></div>)\r\n\r\n        return(\r\n            <Segment.Group>\r\n                <Segment>\r\n                    <Breadcrumb icon='right angle' sections={sections} />\r\n                    <Button icon={icon} basic size=\"mini\" floated=\"right\" onClick={() => {\r\n                        this.setState({openMeter: !openMeter})\r\n                    }} />\r\n                </Segment>\r\n                {control}\r\n            </Segment.Group>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Meter;\r\n","import React, { Component } from 'react';\r\nimport { Grid, Message, Icon } from 'semantic-ui-react';\r\nimport './css/Dashboard.css';\r\nimport SearchPanel from './components/Search/Search';\r\nimport DateWeather from './components/DateWeather/DateWeather'\r\nimport Meter from './components/Meter/Meter'\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    const {onAddItem, onRemoveItem, changeBuilding, changeCampus, changeCollege,\r\n      changeRoom, options, updateOptions, user_email} = this.props\r\n    const message = (options.length === 0) ? (\r\n      <Message attached='bottom' warning>\r\n        <Icon name='warning' />\r\n        Please Add Room\r\n      </Message>\r\n    ) : (<div></div>)\r\n    \r\n    return (\r\n      <Grid container={this.props.mobile} stackable={this.props.mobile}>\r\n        <Grid.Row>\r\n          <Grid.Column width={4}>\r\n            <DateWeather />\r\n          </Grid.Column>\r\n          <Grid.Column width={12}>\r\n            <SearchPanel updateOptions={updateOptions} mobile={this.props.mobile} options={options}\r\n            onAddItem={onAddItem} onRemoveItem={onRemoveItem} changeBuilding={changeBuilding}\r\n            changeCampus={changeCampus} changeCollege={changeCollege} changeRoom={changeRoom} user_email={user_email} />\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row>\r\n            <Grid.Column>\r\n                {message}\r\n                {options.map(option => (\r\n                  <Meter option={option} mobile={this.props.mobile} user_email={user_email} />\r\n                )\r\n                )}\r\n            </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from 'react';\r\nimport './Account.css';\r\nimport {Grid, Segment, Header, Icon, Responsive, Form, Breadcrumb, Button, Checkbox} from 'semantic-ui-react'\r\nimport SearchPanel from '../Search/Search';\r\n\r\nclass Account extends Component {\r\n    render() {\r\n        const {onAddItem, onRemoveItem, changeBuilding, changeCampus, changeCollege,\r\n          changeRoom, options, updateOptions} = this.props\r\n        return(\r\n            <Grid container={this.props.mobile} stackable={this.props.mobile}>\r\n                <Grid.Row>\r\n                    <Grid.Column>\r\n                        <Segment.Group>\r\n                            <Segment inverted style={{backgroundColor: '#cabadf'}}>\r\n                                <Header as='h3' style={{color: '#563d7c'}}>\r\n                                    <Icon name='terminal' />\r\n                                    <Header.Content>User Information Console</Header.Content>\r\n                                </Header>\r\n                            </Segment>\r\n\r\n                            <Segment.Group style={{marginTop: 10}}>\r\n                                <Responsive as={Segment} inverted style={{backgroundColor: '#cabadf'}}>\r\n                                    <Breadcrumb sections={[\r\n                                        { key: 'General Information', content: 'General Information', active: true },\r\n                                        ]} style={{color: '#563d7c'}} />\r\n                                </Responsive>\r\n                                <Responsive as={Segment}>\r\n                                    <Form>\r\n                                        <Form.Field>\r\n                                            <label>First Name</label>\r\n                                            <input placeholder='Renxu' />\r\n                                        </Form.Field>\r\n                                        <Form.Field>\r\n                                            <label>Last Name</label>\r\n                                            <input placeholder='Hu' />\r\n                                        </Form.Field>\r\n                                        <Form.Field>\r\n                                            <Checkbox label='I agree to the Terms and Conditions' />\r\n                                        </Form.Field>\r\n                                        <Button color=\"green\" basic type='submit'>Change</Button>\r\n                                    </Form>\r\n                                </Responsive>\r\n                            </Segment.Group>\r\n\r\n                            <Segment.Group>\r\n                                <Responsive as={Segment} inverted style={{backgroundColor: '#cabadf'}}>\r\n                                    <Breadcrumb sections={[\r\n                                        { key: 'Room', content: 'Room', active: true },\r\n                                        ]} style={{color: '#563d7c'}} />\r\n                                </Responsive>\r\n                                <Responsive as={Segment} style={{}}>\r\n                                    <SearchPanel updateOptions={updateOptions} mobile={this.props.mobile} options={options}\r\n                                    onAddItem={onAddItem} onRemoveItem={onRemoveItem} changeBuilding={changeBuilding}\r\n                                    changeCampus={changeCampus} changeCollege={changeCollege} changeRoom={changeRoom} />\r\n                                </Responsive>\r\n                            </Segment.Group>\r\n                        </Segment.Group> \r\n                    </Grid.Column>\r\n                </Grid.Row>\r\n            </Grid>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Account;","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport LeftMenu from './components/LeftMenu/LeftMenu';\r\nimport TopMenu from './components/TopMenu/TopMenu';\r\nimport Dashboard from './Dashboard';\r\nimport './css/Mainpage.css';\r\nimport {Responsive} from 'semantic-ui-react';\r\nimport PropTypes from \"prop-types\";\r\nimport Account from './components/Account/Account'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useCookies} from 'react-cookie';\r\nimport {BASE_API_URL} from '../config'\r\nimport {getBrickHeaders} from './components/BrickApi';\r\n\r\n\r\nclass DesktopContainer extends Component {\r\n  render() {\r\n    const {\r\n      onAddItem, onRemoveItem, changeBuilding, changeCampus, changeCollege,\r\n      changeRoom, account, switchAccount, user_email\r\n    } = this.props\r\n    const main = account ? (\r\n      <div className=\"main-container\">\r\n        <Account mobile={false} options={this.props.options} updateOptions={this.props.updateOptions}\r\n                 onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                 changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                 changeCollege={changeCollege} changeRoom={changeRoom} user_email={user_email}/>\r\n      </div>\r\n    ) : (\r\n      <div className=\"main-container\">\r\n        <Dashboard mobile={false} options={this.props.options} updateOptions={this.props.updateOptions}\r\n                   onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                   changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                   changeCollege={changeCollege} changeRoom={changeRoom} user_email={user_email}/>\r\n      </div>\r\n    );\r\n    return (\r\n      <Responsive minWidth={1136}>\r\n        <TopMenu switchAccount={switchAccount} user_email={user_email}/>\r\n        <LeftMenu switchAccount={switchAccount}/>\r\n        {main}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nDesktopContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nclass MobileContainer extends Component {\r\n  render() {\r\n    const {\r\n      onAddItem, onRemoveItem, changeBuilding, changeCampus, changeCollege,\r\n      changeRoom, account, switchAccount, user_email\r\n    } = this.props\r\n    const main = account ? (\r\n      <div className=\"mobile-container\">\r\n        <Account mobile={true} options={this.props.options} updateOptions={this.props.updateOptions}\r\n                 onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                 changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                 changeCollege={changeCollege} changeRoom={changeRoom} user_email={user_email}/>\r\n      </div>\r\n    ) : (\r\n      <div className=\"mobile-container\">\r\n        <Dashboard mobile={true} options={this.props.options} updateOptions={this.props.updateOptions}\r\n                   onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                   changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                   changeCollege={changeCollege} changeRoom={changeRoom} user_email={user_email}/>\r\n      </div>\r\n    );\r\n    return (\r\n      <Responsive maxWidth={1135}>\r\n        <TopMenu switchAccount={switchAccount} user_email={user_email}/>\r\n        {main}\r\n      </Responsive>\r\n    );\r\n  }\r\n}\r\n\r\nMobileContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nconst ResponsiveContainer = ({\r\n                               children, options, updateOptions, onAddItem, onRemoveItem, changeBuilding,\r\n                               changeCampus, changeCollege, changeRoom, account, switchAccount, user_email\r\n                             }) => (\r\n  <div>\r\n    <DesktopContainer options={options} updateOptions={updateOptions}\r\n                      onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                      changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                      changeCollege={changeCollege} changeRoom={changeRoom}\r\n                      account={account} switchAccount={switchAccount}\r\n                      user_email={user_email}>{children}</DesktopContainer>\r\n    <MobileContainer options={options} updateOptions={updateOptions}\r\n                     onAddItem={onAddItem} onRemoveItem={onRemoveItem}\r\n                     changeBuilding={changeBuilding} changeCampus={changeCampus}\r\n                     changeCollege={changeCollege} changeRoom={changeRoom}\r\n                     account={account} switchAccount={switchAccount}\r\n                     user_email={user_email}>{children}</MobileContainer>\r\n  </div>\r\n);\r\n\r\nResponsiveContainer.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nclass Main extends Component {\r\n  state = {\r\n    options: [],\r\n    temp: {},\r\n    account: false,\r\n    rooms: [],\r\n    user_email: null,\r\n    redirect: false\r\n  }\r\n\r\n  sessionGet = (key) => {\r\n    let stringValue = window.sessionStorage.getItem(key)\r\n    if (stringValue !== null) {\r\n      let value = JSON.parse(stringValue)\r\n      let expirationDate = new Date(value.expirationDate)\r\n      if (expirationDate > new Date()) {\r\n        return value.value;\r\n      } else {\r\n        window.sessionStorage.removeItem(key)\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  sessionSet = (key, value, expirationInMin = 360) => {\r\n    let expirationDate = new Date(new Date().getTime() + (60000 * expirationInMin))\r\n    let newValue = {\r\n      value: value,\r\n      expirationDate: expirationDate.toISOString()\r\n    }\r\n    window.sessionStorage.setItem(key, JSON.stringify(newValue))\r\n  }\r\n\r\n  loginRedirect = () => {\r\n    if (!this.state.redirect) {\r\n      this.setState({\r\n        user_email: \"admin\",\r\n        redirect: true\r\n      });\r\n    }\r\n    return;\r\n\r\n    // const [cookies] = useCookies(['app_token'])\r\n    let cookieValue = document.cookie.replace(/(?:(?:^|.*;\\s*)app_token\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n    this.sessionSet(\"user_token\", cookieValue)\r\n    let user_token = this.sessionGet(\"user_token\")\r\n    if (user_token === null) {\r\n      this.setState({redirect: false})\r\n      return <Redirect to='/'/>\r\n    } else if (!this.state.redirect) {\r\n      axios.get(BASE_API_URL + '/api/redirected', {\r\n        params: {\r\n          user_access_token: user_token\r\n        },\r\n        headers: getBrickHeaders()\r\n      })\r\n        .then((res) => {\r\n          localStorage.setItem('user_id', JSON.stringify(res))\r\n          this.setState({\r\n            user_email: res,\r\n            redirect: true\r\n          })\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  }\r\n\r\n  switchAccount = (option) => {\r\n    this.setState({account: option})\r\n  }\r\n\r\n  updateOptions = (options) => {\r\n    this.setState({options: options})\r\n  }\r\n\r\n  changeRoom = (e, {value}) => {\r\n    this.setState(prevState => ({\r\n      temp: {\r\n        ...prevState.temp,\r\n        room: {value}\r\n      }\r\n    }))\r\n  }\r\n\r\n  changeCampus = (e, {value}) => {\r\n    this.setState(prevState => ({\r\n      temp: {\r\n        ...prevState.temp,\r\n        campus: {value}\r\n      }\r\n    }))\r\n  }\r\n\r\n  changeBuilding = (e, {value}) => {\r\n    this.setState(prevState => ({\r\n      temp: {\r\n        ...prevState.temp,\r\n        building: {value}\r\n      }\r\n    }))\r\n  }\r\n\r\n  changeCollege = (e, {value}) => {\r\n    this.setState(prevState => ({\r\n      temp: {\r\n        ...prevState.temp,\r\n        college: {value}\r\n      }\r\n    }))\r\n  }\r\n\r\n  onAddItem = () => {\r\n    this.setState(\r\n      state => {\r\n        if (state.rooms.some(o => (o.college === state.temp.college.value\r\n            && o.campus === state.temp.campus.value\r\n            && o.building === state.temp.building.value\r\n            && o.room === state.temp.room.value))\r\n          && state.temp.college.value != null\r\n          && state.temp.campus.value != null\r\n          && state.temp.building.value != null\r\n          && state.temp.room.value != null\r\n          && !state.options.some(o => (o.college.value === state.temp.college.value\r\n            && o.campus.value === state.temp.campus.value\r\n            && o.building.value === state.temp.building.value\r\n            && o.room.value === state.temp.room.value))\r\n\r\n        )\r\n          state.options.push(state.temp)\r\n        const options = state.options\r\n        return {\r\n          options,\r\n          temp: state.temp\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  onRemoveItem = i => {\r\n    this.setState(state => {\r\n      const options = state.options.filter((item, j) => i !== j)\r\n      return {\r\n        options,\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillMount() {\r\n    localStorage.getItem('options') && this.setState({\r\n      options: JSON.parse(localStorage.getItem('options'))\r\n    })\r\n    localStorage.getItem('temp') && this.setState({\r\n      temp: JSON.parse(localStorage.getItem('temp'))\r\n    })\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n    localStorage.setItem('options', JSON.stringify(nextState.options))\r\n    localStorage.setItem('temp', JSON.stringify(nextState.temp))\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.user_email !== prevState.user_email) {\r\n      axios.get(BASE_API_URL + '/api/room', {\r\n        params: {\r\n          user_email: this.state.user_email.data,\r\n          // user_token: this.sessionGet(\"user_token\")\r\n        },\r\n        headers: getBrickHeaders()\r\n      }).then(res => {\r\n        if (res != null) {\r\n          const resp = res.data;\r\n          this.setState({rooms: resp['rooms']});\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {options, account, user_email} = this.state;\r\n    return (\r\n      <div>\r\n        {this.loginRedirect()}\r\n        <ResponsiveContainer options={options} updateOptions={this.updateOptions}\r\n                             onAddItem={this.onAddItem} onRemoveItem={this.onRemoveItem}\r\n                             changeBuilding={this.changeBuilding} changeCampus={this.changeCampus}\r\n                             changeCollege={this.changeCollege} changeRoom={this.changeRoom}\r\n                             account={account} switchAccount={this.switchAccount} user_email={user_email}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Home from './client/Homepage';\r\nimport Main from './client/Mainpage';\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport {\r\n    LOGIN_URL\r\n} from './config'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    var params = new URL(document.location).searchParams;\r\n    var token = params.get(\"token\");\r\n    if (token) {\r\n      window.sessionStorage.setItem(\"token\", token);\r\n    }\r\n\r\n    return (\r\n      <Router>\r\n        <div>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/main\" component={Main} />\r\n            <Route path='/login' component={() => {\r\n                window.location.href = LOGIN_URL;\r\n                return null;\r\n            }}/>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Router } from 'react-router-dom';\r\nimport { createHashHistory } from 'history';\r\nimport { CookiesProvider } from 'react-cookie';\r\n\r\nconst history = createHashHistory();\r\n\r\nReactDOM.render((\r\n    <Router history={history}>\r\n        <CookiesProvider>\r\n            <App />\r\n        </CookiesProvider>\r\n    </Router>\r\n), document.getElementById('root'));\r\n"],"sourceRoot":""}
