(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{178:function(e,t,a){e.exports=a.p+"static/media/genie_logo.55938600.png"},245:function(e,t,a){},246:function(e,t,a){e.exports=a.p+"static/media/synergylog_noletter_trans.e4dee3fd.png"},247:function(e,t,a){e.exports=a.p+"static/media/mesllogo_noletter_trans.f54aea5b.png"},248:function(e,t,a){e.exports=a.p+"static/media/CSELogo_globe_color_trans.4b007226.png"},249:function(e,t,a){e.exports=a.p+"static/media/ucsd-logo.057ec865.png"},287:function(e,t,a){e.exports=a(484)},292:function(e,t,a){},293:function(e,t,a){},295:function(e,t,a){},33:function(module,__webpack_exports__,__webpack_require__){"use strict";function getToken(){var user_token=eval("("+window.sessionStorage.getItem("user_token")+")"),now=new Date;if(new Date(user_token.expirationDate)<now)throw"Token has been expired";return user_token.value}function getBrickHeaders(){return{Authorization:"Bearer "+window.sessionStorage.getItem("token")}}__webpack_require__.d(__webpack_exports__,"a",function(){return getBrickHeaders})},455:function(e,t,a){},456:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){},470:function(e,t,a){},480:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(70),l=a.n(o),c=(a(292),a(17)),i=a(18),s=a(20),u=a(21),m=a(16),p=(a(293),a(69)),h=a(26),d=(a(294),a(491)),g=a(506),f=a(277),v=a(503),E=a(64),b=a(512),y=a(492),O=a(507),R=a(504),C=a(508),w=a(509),_=a(501),S=a(498),k=(a(295),a(178)),j=a.n(k),I=a(246),x=a.n(I),A=a(247),N=a.n(A),T=a(248),D=a.n(T),z=a(249),H=a.n(z),M=a(497);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var P=function(e){Object(s.a)(a,e);var t=B(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={modalOpen:!1},e.handleOpen=function(){return e.setState({modalOpen:!0})},e.handleClose=function(){return e.setState({modalOpen:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(M.a,{dimmer:!0,open:this.props.open,onClose:this.props.onClose,basic:!0,size:"small"},r.a.createElement(g.a,{icon:"address book",content:"Contact Us"}),r.a.createElement(M.a.Content,null,r.a.createElement("h3",null,"For any questions or issues, please ",r.a.createElement("a",{href:"mailto:jbkoh@eng.ucsd.edu",style:{color:"chartreuse"}},"email us"),".")),r.a.createElement(M.a.Actions,null,r.a.createElement(v.a,{onClick:this.props.onClose,inverted:!0},r.a.createElement(E.a,{name:"checkmark"})," Close"),r.a.createElement(v.a,{color:"green",href:"mailto:jbkoh@eng.ucsd.edu",onClick:this.props.onClose,inverted:!0},"Contact ",r.a.createElement(E.a,{name:"right arrow"}))))}}]),a}(n.Component);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var W=function(e){var t=e.mobile;return r.a.createElement(d.a,{text:!0},r.a.createElement(g.a,{as:"h1",inverted:!0,style:{marginTop:t?"3em":"6em"}},r.a.createElement(f.a,{src:j.a,style:{width:t?"1.5em":"3em",height:t?"1.5em":"3em"}}),r.a.createElement(g.a.Content,{style:{fontSize:t?"1.5em":"3em",fontWeight:"normal"}},"Genie")),r.a.createElement(g.a,{as:"h2",content:"Personalize Your Office Environment",inverted:!0,style:{marginTop:t?"0.5em":"1em",marginBottom:t?"1em":"2em",fontSize:t?"1em":"2em",fontWeight:"normal"}}),r.a.createElement(p.b,{to:"/main"},r.a.createElement(v.a,{basic:!0,inverted:!0,size:"huge"},"Get Started",r.a.createElement(E.a,{name:"right arrow"}))))},L=function(e){var t=e.mobile;return r.a.createElement(d.a,{text:!0},r.a.createElement(g.a,{as:"h1",inverted:!0,style:{marginTop:t?"1em":"2em"}},r.a.createElement(f.a,{src:j.a,style:{width:t?"1.5em":"3em",height:t?"1.5em":"3em"}}),r.a.createElement(g.a.Content,{style:{fontSize:t?"1.5em":"3em",fontWeight:"normal"}},"Genie")),r.a.createElement(g.a,{as:"h2",content:"About this project",inverted:!0,style:{fontSize:t?"1em":"2em",fontWeight:"normal"}}),r.a.createElement(g.a,{as:"h2",content:"Genie is a project of the MESL/Synergy Lab at UCSD.  Genie assists occupants of the Computer Science and Engineering  building to improve their environment. You can use it to change  your temperature settings, set your schedule and turn HVAC on/off  when you need. You can also view history of sensor measurements,  and send us your feedback using this interface. The goal of this  project is to make HVAC energy efficient while meeting the comfort requirements of the occupant. Please use Genie, feel free to send  us your suggestions, feedback or maintenance requests, and improve your environment! ",inverted:!0,style:{marginTop:t?"0.5em":"1em",marginBottom:t?"1em":"2em",fontSize:t?"10px":"20px",fontWeight:"normal"}}),r.a.createElement(v.a,{href:"https://genie.ucsd.edu/tips",basic:!0,inverted:!0,size:"huge"},"How HVAC works"))},U=function(e){Object(s.a)(a,e);var t=F(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={activeItem:"home",redirect:!1},e.setRedirect=function(){e.setState({redirect:!0})},e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(h.a,{to:"/login"})},e.hideFixedMenu=function(){return e.setState({fixed:!1})},e.showFixedMenu=function(){return e.setState({fixed:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state,n=a.fixed,o=a.contact,l=a.about,c=a.activeItem,i=l?r.a.createElement(L,null):r.a.createElement(W,null);return r.a.createElement(b.a,{minWidth:b.a.onlyTablet.minWidth},this.renderRedirect(),r.a.createElement(y.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.a.createElement(O.a,{className:"masthead bg14",inverted:!0,textAlign:"center",style:{minHeight:600,padding:"1em 0em"},vertical:!0},r.a.createElement(R.a,{fixed:n?"top":null,inverted:!n,pointing:!n,secondary:!n,size:"large",style:{borderWidth:0}},r.a.createElement(d.a,null,r.a.createElement(R.a.Item,{name:"home",as:"a",onClick:function(){return e.setState({about:!1,activeItem:"home"})},active:"home"===c},"Home"),r.a.createElement(R.a.Item,{name:"contact",as:"a",onClick:function(){return e.setState({contact:!0,about:!1,activeItem:"contact"})},active:"contact"===c},"Contact"),r.a.createElement(R.a.Item,{name:"about",as:"a",onClick:function(){return e.setState({about:!0,activeItem:"about"})},active:"about"===c},"About"),r.a.createElement(R.a.Item,{position:"right"},r.a.createElement(v.a,{as:"a",inverted:!n,onClick:this.setRedirect},"Log in")))),i)),t,r.a.createElement(P,{open:o,onClose:function(){return e.setState({contact:!1,about:!1})}}))}}]),a}(n.Component),G=function(e){Object(s.a)(a,e);var t=F(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={activeItem:"home",redirect:!1},e.setRedirect=function(){e.setState({redirect:!0})},e.renderRedirect=function(){if(e.state.redirect)return r.a.createElement(h.a,{to:"/login"})},e.handlePusherClick=function(){e.state.sidebarOpened&&e.setState({sidebarOpened:!1})},e.handleToggle=function(){return e.setState({sidebarOpened:!e.state.sidebarOpened})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.children,a=this.state.sidebarOpened,n=this.state,o=n.contact,l=n.about,c=n.activeItem,i=l?r.a.createElement(L,{mobile:!0}):r.a.createElement(W,{mobile:!0});return r.a.createElement(b.a,{maxWidth:b.a.onlyMobile.maxWidth},this.renderRedirect(),r.a.createElement(C.a.Pushable,null,r.a.createElement(C.a,{as:R.a,animation:"uncover",vertical:!0,visible:a},r.a.createElement(R.a.Item,{name:"home",as:"a",onClick:function(){return e.setState({about:!1,activeItem:"home",sidebarOpened:!e.state.sidebarOpened})},active:"home"===c},"Home"),r.a.createElement(R.a.Item,{name:"contact",as:"a",onClick:function(){return e.setState({contact:!0,about:!1,activeItem:"contact",sidebarOpened:!e.state.sidebarOpened})},active:"contact"===c},"Contact"),r.a.createElement(R.a.Item,{name:"about",as:"a",onClick:function(){return e.setState({about:!0,activeItem:"about",sidebarOpened:!e.state.sidebarOpened})},active:"about"===c},"About")),r.a.createElement(C.a.Pusher,{dimmed:a,onClick:this.handlePusherClick,style:{minHeight:"100vh"}},r.a.createElement(O.a,{className:"masthead bg14",inverted:!0,textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.a.createElement(d.a,null,r.a.createElement(R.a,{inverted:!0,pointing:!0,secondary:!0,size:"large",style:{borderWidth:0}},r.a.createElement(R.a.Item,{onClick:this.handleToggle},r.a.createElement(E.a,{name:"sidebar"})),r.a.createElement(R.a.Item,{position:"right"},r.a.createElement(v.a,{as:"a",inverted:!0,onClick:this.setRedirect},"Log in")))),i),t,r.a.createElement(P,{open:o,onClose:function(){return e.setState({contact:!1,about:!1})}}))))}}]),a}(n.Component),J=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(U,null,t),r.a.createElement(G,null,t))},Y=function(e){Object(s.a)(a,e);var t=F(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(J,null,r.a.createElement(O.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(w.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:8},r.a.createElement("header",{style:{fontSize:"2em",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontWeight:"normal",color:"rgba(0,0,0,.87)",paddingBottom:"16px"}},"Related Organizations"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:4},r.a.createElement("a",{href:"http://synergy.ucsd.edu/"},r.a.createElement(_.a,{className:"hover",image:x.a,style:{textAlign:"center"}}))),r.a.createElement(w.a.Column,{width:4},r.a.createElement("a",{href:"http://synergy.ucsd.edu/"},r.a.createElement(_.a,{className:"hover",image:N.a,style:{textAlign:"center"}}))),r.a.createElement(w.a.Column,{width:4},r.a.createElement("a",{href:"http://cse.ucsd.edu/"},r.a.createElement(_.a,{className:"hover",image:D.a,style:{textAlign:"center"}}))),r.a.createElement(w.a.Column,{width:4},r.a.createElement("a",{href:"http://ucsd.edu/"},r.a.createElement(_.a,{className:"hover",image:H.a,style:{textAlign:"center",backgroundColor:"white"}})))))),r.a.createElement(w.a.Column,{floated:"right",width:8},r.a.createElement("header",{style:{fontSize:"2em",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontWeight:"normal",color:"rgba(0,0,0,.87)",paddingBottom:"16px"}},"Related Sites"),r.a.createElement(S.a,{style:{fontSize:"1.33em",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontWeight:"normal"}},r.a.createElement(S.a.Item,null,r.a.createElement("a",{href:"https://facilities.ucsd.edu/default.htm"},"Facilities Information System")),r.a.createElement(S.a.Item,null,r.a.createElement("a",{href:"http://172.21.59.229/Ion/"},"ION Energy Monitoring System")),r.a.createElement(S.a.Item,null,r.a.createElement("a",{href:"http://energy.ucsd.edu/"},"Energy Dashboard")),r.a.createElement(S.a.Item,null,r.a.createElement("a",{href:"https://genie.ucsd.edu/"},"Genie - Personal Environment Control")),r.a.createElement(S.a.Item,null,r.a.createElement("a",{href:"https://brickschema.org/"},"Brick Schema"))))))),r.a.createElement(O.a,{inverted:!0,vertical:!0,textAlign:"center",style:{padding:"2em 0em"},className:"masthead bg14"},r.a.createElement(d.a,null,r.a.createElement(g.a,{as:"h5",inverted:!0,style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontWeight:"normal"}},"UC San Diego 9500 Gilman Dr. La Jolla, CA 92093 \xa92013 Regents of the University of California. All rights reserved."),r.a.createElement(g.a,{as:"h5",inverted:!0,style:{fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",fontWeight:"normal"}},"Designed and built by synergy team, based on django and bootstrap        "))))}}]),a}(n.Component),q=a(96),V=a(495),Z=a(135);a(455);function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Q=function(e){Object(s.a)(a,e);var t=K(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.menu,t=this.props.home;return r.a.createElement("div",{className:"header-container"},r.a.createElement("h2",{className:"top-header"},e),r.a.createElement("div",{className:"sub-header"},r.a.createElement("h5",null,t,e)))}}]),a}(n.Component);a(456);function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var $=function(e){Object(s.a)(a,e);var t=X(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.submenu;return null!==e?r.a.createElement("div",null,e.map(function(e){return r.a.createElement("div",{key:e.name,className:"sub-menu"},r.a.createElement(Z.a,{to:e.name},r.a.createElement(E.a,{name:"plus",size:"small"}),r.a.createElement("span",null,e.name)))})):r.a.createElement("div",null)}}]),a}(n.Component),ee=function(e){Object(s.a)(a,e);var t=X(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activeMenu:"Dashboard"},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement("div",{className:"left-menus"},[{name:"Dashboard",icon:"inbox"},{name:"Account",icon:"user"}].map(function(t){return t.submenus?r.a.createElement("div",{key:t.name,className:e.state.activeMenu===t.name?"menu active":"menu",onClick:function(){e.setState({activeMenu:t.name}),e.props.switchAccount("Account"===t.name)}},r.a.createElement(E.a,{name:t.icon,size:"large"}),r.a.createElement("span",null,t.name),r.a.createElement(E.a,{name:e.state.activeMenu===t.name?"angle up":"angle down"}),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"sub-menu-container "+(e.state.activeMenu===t.name?"active":"")},r.a.createElement($,{submenu:t.submenus,menu:t})))):r.a.createElement("div",{name:t.name,key:t.name,className:e.state.activeMenu===t.name?"menu active":"menu",onClick:function(){e.setState({activeMenu:t.name}),e.props.switchAccount("Account"===t.name)}},r.a.createElement(E.a,{name:t.icon,size:"large"}),r.a.createElement("span",null,t.name))})))}}]),a}(n.Component),te=a(33),ae=a(499),ne="http://mesl-exp.ucsd.edu:9000/brickapi/v1/apps/domains/Center_Hall/api";function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var oe=function(e){Object(s.a)(a,e);var t=re(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={redir:!1},e.switchPage=function(t,a){var n=a.value;"profile"===n?e.props.switchAccount(!0):"sign-out"===n&&(localStorage.clear(),sessionStorage.clear(),V.a.get(ne+"/api/logout").then(function(){e.setState({redir:!0})}))},e.renderRedir=function(){if(e.state.redir)return r.a.createElement(h.a,{to:"/"})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=[{key:"user",value:"user",text:r.a.createElement("span",null,"Signed in as ",r.a.createElement("strong",null,this.props.user)),disabled:!0},{key:"profile",value:"profile",text:"Your Profile"},{key:"sign-out",value:"sign-out",text:"Sign Out"}];return r.a.createElement("div",null,this.renderRedir(),r.a.createElement(ae.a,{trigger:this.props.trigger,options:e,onChange:this.switchPage}))}}]),a}(n.Component);a(467);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ce=function(e){Object(s.a)(a,e);var t=le(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeItem:"home",user:"User"},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.activeItem,n=t.user,o={margin:"0 10px 0 0"},l=r.a.createElement("span",null,r.a.createElement(E.a,{name:"user",size:"large",style:o})," ",n);return r.a.createElement(R.a,{pointing:!0,secondary:!0,className:"top-menu"},r.a.createElement(R.a.Menu,{postion:"left",className:"menu-logo"},r.a.createElement(R.a.Item,{position:"left"},r.a.createElement(Z.a,{to:"dashboard"},"Genie"))),r.a.createElement(R.a.Menu,{className:"center menu"},r.a.createElement(R.a.Item,{name:"home",onClick:function(){e.setState({activeItem:"home"}),e.props.switchAccount(!1)},active:"home"===a},r.a.createElement(E.a,{name:"inbox",size:"large",style:o}),r.a.createElement("span",null,"Dashboard"))),r.a.createElement(R.a.Menu,{className:"right menu"},r.a.createElement(R.a.Item,{name:"setting",onClick:this.handleItemClick,active:"setting"===a},r.a.createElement(oe,{trigger:l,switchAccount:this.props.switchAccount,user:n}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.user_email;if(null!=a){if(a===t.user_email)return null;V.a.get(ne+"/api/user",{params:{user_email:a.data},headers:Object(te.a)()}).then(function(e){return null!=e&&null!=e.data&&null!=e.data.value?{user:e.data.value,user_email:a}:{user:"User",user_email:a}})}return null}}]),a}(n.Component),ie=a(502),se=(a(468),a(510)),ue=a(493);a(469);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var pe=function(e){Object(s.a)(a,e);var t=me(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={openSearch:!0,collegeOptions:[],campusOptions:[],buildingOptions:[],roomOptions:[],rooms:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("openSearch")&&this.setState({openSearch:JSON.parse(localStorage.getItem("openSearch"))})}},{key:"optionObject",value:function(e){return{key:e,value:e,text:e}}},{key:"getRoom",value:function(){var e=this;V.a.get(ne+"/api/room",{headers:Object(te.a)()}).then(function(t){if(null!=t){var a=t.data;e.setState({rooms:a}),a.rooms.map(function(t){var a={key:t.college,value:t.college,text:t.college},n={key:t.campus,value:t.campus,text:t.campus},r={key:t.building,value:t.building,text:t.building},o={key:t.room,value:t.room,text:t.room};e.setState(function(e){return e.collegeOptions.includes(a)||e.collegeOptions.push(a),e.campusOptions.includes(n)||e.campusOptions.push(n),e.buildingOptions.includes(r)||e.buildingOptions.push(r),e.roomOptions.includes(o)||e.roomOptions.push(o),{collegeOptions:e.collegeOptions,campusOptions:e.campusOptions,buildingOptions:e.buildingOptions,roomOptions:e.roomOptions}})})}})}},{key:"componentDidUpdate",value:function(e,t){this.props.user_email!==e.user_email&&this.getRoom()}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("openSearch",JSON.stringify(t.openSearch))}},{key:"render",value:function(){var e=this,t=this.state,a=t.openSearch,n=t.collegeOptions,o=t.campusOptions,l=t.buildingOptions,c=t.roomOptions,i=this.props,s=i.onAddItem,u=i.onRemoveItem,m=i.changeBuilding,p=i.changeCampus,h=i.changeCollege,d=i.changeRoom,g=i.options,f=a?"Hide Room List":"Show Room List",b=a?g.map(function(e,t){return r.a.createElement(S.a.Item,{floated:"left"},r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Header,null,r.a.createElement(E.a,{name:"building"}),r.a.createElement(se.a,{icon:"right angle",sections:[{key:e.college.value,content:e.college.value,link:!1},{key:e.campus.value,content:e.campus.value,link:!1},{key:e.building.value,content:e.building.value,link:!1},{key:e.room.value,content:e.room.value,link:!1}],style:{marginLeft:10}}),r.a.createElement(v.a,{compact:!0,color:"red",size:"mini",onClick:function(){return u(t)},basic:!0,style:{marginLeft:10}},"Delete"))))}):r.a.createElement("div",null);return r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{textAlign:"center"},r.a.createElement(O.a,{className:"search",color:"teal"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,{textAlign:"center"},r.a.createElement(w.a.Column,null,r.a.createElement(v.a,{icon:"search",basic:!0,style:{marginRight:3}}),r.a.createElement(ae.a,{placeholder:"College",clearable:!0,search:!0,selection:!0,options:n,onChange:h,style:{minWidth:90}}),r.a.createElement(E.a,{name:"right angle"}),r.a.createElement(ae.a,{placeholder:"Campus",clearable:!0,search:!0,selection:!0,options:o,onChange:p,style:{minWidth:90}}),r.a.createElement(E.a,{name:"right angle"}),r.a.createElement(ae.a,{placeholder:"Building",clearable:!0,search:!0,selection:!0,options:l,onChange:m,style:{minWidth:90}}),r.a.createElement(E.a,{name:"right angle"}),r.a.createElement(ae.a,{placeholder:"Room",clearable:!0,search:!0,selection:!0,options:c,onChange:d,style:{minWidth:90}}),r.a.createElement(v.a,{size:"small",color:"green",compact:!0,style:{marginLeft:15},onClick:s,basic:!0},"Add"))),r.a.createElement(ue.a,{style:{marginTop:0,marginBottom:0,paddingBottom:0,paddingTop:0}}),r.a.createElement(w.a.Row,{textAlign:"center"},r.a.createElement(w.a.Column,null,r.a.createElement(S.a,{animated:!0,selection:!0,divided:!0,verticalAlign:"middle",style:{marginTop:0,paddingTop:0}},b),r.a.createElement(v.a,{basic:!0,compact:!0,size:"mini",floated:"right",onClick:function(){e.setState({openSearch:!a})},color:a?"red":"green"},f))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.user_email;return null!=a&&a!==t.user_email?{user_email:a}:null}}]),a}(n.Component),he=(a(470),a(138)),de=a.n(he);function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var fe=function(e){Object(s.a)(a,e);var t=ge(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,{fluid:!0,color:"red",className:"gradient"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,{style:{paddingTop:40,paddingBottom:0,minHeight:101}},r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",paddingTop:0}},r.a.createElement(w.a.Row,{style:{}},r.a.createElement(E.a,{name:"clock outline",size:"huge",style:{color:"rgb(143, 201, 251)"}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",paddingTop:0}},r.a.createElement(w.a.Row,{style:{}},r.a.createElement(de.a,{className:"dashboard",format:"HH:mm:ss",ticking:!0})),r.a.createElement(w.a.Row,{style:{}},r.a.createElement(de.a,{className:"dashboard",format:"ddd",ticking:!0})),r.a.createElement(w.a.Row,{style:{}},r.a.createElement(de.a,{className:"dashboard",format:"MMM/DD/YYYY",ticking:!0})))),r.a.createElement(w.a.Row,{style:{paddingTop:0,paddingBottom:0,height:2}},r.a.createElement(w.a.Column,null,r.a.createElement(ue.a,null))),r.a.createElement(w.a.Row,{style:{paddingTop:40,paddingBottom:0,minHeight:101}},r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",paddingTop:0}},r.a.createElement(w.a.Row,{style:{}},r.a.createElement(E.a,{name:"snowflake outline",size:"huge",style:{color:"rgb(143, 201, 251)"}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",paddingTop:0}},r.a.createElement(w.a.Row,{style:{}},r.a.createElement(g.a,{className:"dashboard"},"clear")),r.a.createElement(w.a.Row,{style:{paddingTop:10}},r.a.createElement(g.a,{className:"dashboard"},"63.8 \xb0F")))))))}}]),a}(n.Component),ve=(a(480),a(61)),Ee=a(505),be=(a(245),a(272)),ye=a.n(be);function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Re=function(e){var t=e.icon,a=e.color,n=e.title;e.mobile;return r.a.createElement(O.a,{raised:!0,style:{minHeight:"204px"},color:"red"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(E.a,{name:t,size:"huge",style:{color:a}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(g.a,{className:"segtitle"},n)),r.a.createElement(w.a.Row,{style:{marginTop:15}},r.a.createElement(ie.a,{negative:!0},r.a.createElement(E.a,{name:"warning"}),"No Data Found"))))))},Ce=function(e){var t=e.icon,a=e.color,n=e.title,o=e.value,l=e.label,c=e.labels,i=e.progress;e.mobile;return r.a.createElement(O.a,{raised:!0,style:{minHeight:"204px"},color:"red"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(E.a,{name:t,size:"huge",style:{color:a}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(g.a,{className:"segtitle"},n)),r.a.createElement(w.a.Row,{style:{marginTop:15}},r.a.createElement(ye.a,{labels:c,labelColor:"#666",progress:i,barColor:"#fff34b",seperatorColor:"hotpink"})),r.a.createElement(w.a.Row,{style:{marginTop:20}},r.a.createElement(Ee.a,{size:"small",horizontal:!0,floated:"right"},r.a.createElement(Ee.a.Value,null,o,r.a.createElement("span",{style:{fontSize:12}},l))))))))},we=function(e){Object(s.a)(a,e);var t=Oe(a);function a(e,n){var r;return Object(c.a)(this,a),(r=t.call(this,e,n)).state={energy_value:0,temperature_value:60,energy_error:!1,temperature_error:!1},r.get_energy_usage.bind(Object(ve.a)(r)),r.get_room_temperature.bind(Object(ve.a)(r)),r}return Object(i.a)(a,[{key:"get_statuses",value:function(e,t){this.get_room_temperature(e,t),this.get_energy_usage(e,t)}},{key:"get_energy_usage",value:function(e,t){var a=this,n=e.room.value;V.a.get(ne+"/api/point/energy/"+n,{params:{user_email:t.data},headers:Object(te.a)()}).then(function(e){if(null!=e&&null!=e.data&&null!=e.data.value){var t=e.data;console.log("energy usage",t.value.toFixed(2)),a.setState({energy_value:t.value.toFixed(2),energy_error:!1})}else a.setState({energy_error:!0})})}},{key:"get_room_temperature",value:function(e,t){var a=this,n=e.room.value;V.a.get(ne+"/api/point/temp/"+n,{params:{user_email:t.data},headers:Object(te.a)()}).then(function(e){if(null!=e&&null!=e.data&&null!=e.data.value){var t=e.data;console.log("temperature",t.value.toFixed(2)),a.setState({temperature_value:t.value,temperature_error:!1})}else a.setState({temperature_error:!0})})}},{key:"componentDidMount",value:function(e,t){var a,n=this.props,r=n.option,o=n.user_email;if(null!=o)"undefined"!==typeof e&&o===e.user_email||(this.get_statuses(r,o),a=setInterval(this.get_statuses.bind(this),6e4,r,o));else if(localStorage.getItem("user_id")){var l=JSON.parse(localStorage.getItem("user_id"));this.get_statuses(r,l),a=setInterval(this.get_statuses.bind(this),6e4,r,l)}else console.log("THIS SHOULD NOT BE REACHED");this.setState({intervalId:a})}},{key:"render",value:function(){var e=this.state,t=e.energy_value,a=e.temperature_value,n=e.energy_error,o=e.temperature_error,l=t/1600*100,c=(a-60)/20*100,i=this.props.mobile?[60,65,70,75,80]:[60,64,68,72,76,80],s=n?r.a.createElement(Re,{icon:"tachometer alternate",color:"rgb(216, 151, 235)",title:"CO\u2082",mobile:this.props.mobile}):r.a.createElement(Ce,{icon:"tachometer alternate",color:"rgb(216, 151, 235)",title:"CO\u2082",value:t,label:"ppm",labels:[0,400,800,1200,1600],progress:l,mobile:this.props.mobile}),u=o?r.a.createElement(Re,{icon:"thermometer",color:"rgb(100, 234, 145)",title:"Room Temperature",mobile:this.props.mobile}):r.a.createElement(Ce,{icon:"thermometer",color:"rgb(100, 234, 145)",title:"Room Temperature",value:a.toFixed(2),label:"\xb0F",labels:i,progress:c,mobile:this.props.mobile});return r.a.createElement(w.a,{container:this.props.mobile,stackable:this.props.mobile},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,null,r.a.createElement(ue.a,{horizontal:!0,style:{marginLeft:"15px",marginRight:"15px"}},r.a.createElement(g.a,{as:"h3",className:"segtitle"},this.props.title)))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:8},s),r.a.createElement(w.a.Column,{width:8},u)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.user_email;return null!=a&&a!==t.user_email?{user_email:a}:null}}]),a}(n.Component),_e=a(276);function Se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ke=function(e){var t=e.icon,a=e.color,n=e.title,o=(e.mobile,e.msg);return r.a.createElement(O.a,{raised:!0,style:{minHeight:"204px"},color:"red"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(E.a,{name:t,size:"huge",style:{color:a}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(g.a,{className:"segtitle"},n)),r.a.createElement(w.a.Row,{style:{marginTop:15}},r.a.createElement(ie.a,{negative:!0},r.a.createElement(E.a,{name:"warning"}),o))))))},je=function(e){var t=e.icon,a=e.color,n=e.title,o=e.value,l=e.label,c=e.handleChangeTemp;e.mobile;return r.a.createElement(O.a,{className:"glowfloat",raised:!0,style:{minHeight:"204px"},color:"violet"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(E.a,{name:t,size:"huge",style:{color:a,marginTop:"50% !important"}}))),r.a.createElement(w.a.Column,{width:10,style:{textAlign:"left",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(g.a,{className:"segtitle"},n)),r.a.createElement(w.a.Row,{style:{marginTop:15}},r.a.createElement(_e.a,{styles:{track:{width:"100% !important"},active:{backgroundColor:"rgb(248, 200, 46)"}},axis:"x",xmin:-3,xmax:3,xstep:.5,x:o,onChange:function(e){var t=e.x;return c(t)}})),r.a.createElement(w.a.Row,{style:{marginTop:20}},r.a.createElement(Ee.a,{size:"small",horizontal:!0,floated:"right"},r.a.createElement(Ee.a.Value,null,o,r.a.createElement("span",{style:{fontSize:12}},l))))))))},Ie=function(e){var t=e.icon,a=e.color,n=e.title,o=e.value;e.toggleStatus,e.mobile,e.loading;return r.a.createElement(O.a,{className:"glowfloat",raised:!0,style:{minHeight:"204px"},color:"teal"},r.a.createElement(w.a,null,r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:6,style:{textAlign:"center",marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(E.a,{disabled:"OFF"===o,name:t,size:"huge",style:{color:"OFF"===o?"#666":a,marginTop:"50% !important"}}))),r.a.createElement(w.a.Column,{width:10,style:{marginTop:0}},r.a.createElement(w.a.Row,{style:{marginTop:40}},r.a.createElement(g.a,{className:"segtitle"},n)),r.a.createElement(w.a.Row,{style:{marginTop:15}}),r.a.createElement(w.a.Row,{style:{marginTop:20}},r.a.createElement(Ee.a,{size:"small",horizontal:!0,floated:"left"},r.a.createElement(Ee.a.Value,null,"ON"===o?"Occupied":"Unoccupied")))))))},xe=function(e){Object(s.a)(a,e);var t=Se(a);function a(e,n){var r;return Object(c.a)(this,a),(r=t.call(this,e,n)).toggleStatus=function(){var e=r.props,t=e.option,a=e.user_email,n=3===r.state.status?1:3;r.setState({loading:!0}),r.set_status(t,n.toString(),n,a)},r.handleChangeTemp=function(e){var t=r.props,a=t.option,n=t.user_email;r.set_temp_setpoint(a,e,n),r.setState({temperature:e})},r.state={status:1,temperature:0,status_error:!1,setpoint_error:!1,loading:!1},r.get_status.bind(Object(ve.a)(r)),r.get_temp_setpoint.bind(Object(ve.a)(r)),r}return Object(i.a)(a,[{key:"get_status",value:function(e,t){var a=this,n=e.room.value;V.a.get(ne+"/api/point/status/"+n,{params:{user_email:t.data},headers:Object(te.a)()}).then(function(e){if(401===e.data.status_code)console.log("NOT AUTHORIZED"),a.setState({status_error:401});else if(null!=e&&null!=e.data&&null!=e.data.value){console.log("EMPTY DATA");var t=e.data;a.setState({status:t.value,status_error:!1})}else a.setState({status_error:400})})}},{key:"get_temp_setpoint",value:function(e,t){var a=this,n=e.room.value;V.a.get(ne+"/api/point/setpoint/"+n,{params:{user_email:t.data},headers:Object(te.a)()}).then(function(e){if(401===e.data.status_code)console.log("NOT AUTHORIZED"),a.setState({setpoint_error:401});else if(null!=e&&null!=e.data&&null!=e.data.value){var t=e.data;a.setState({temperature:t.value,setpoint_error:!1})}else console.log("No Data"),a.setState({setpoint_error:400})})}},{key:"set_status",value:function(e,t,a,n){var r=this,o=e.room.value;V.a.post(ne+"/api/point/status/"+o,{value:t},{params:{user_email:n.data},headers:Object(te.a)()}).then(function(e){r.setState({status:a,loading:!1})}).catch(function(e){console.log(e)})}},{key:"set_temp_setpoint",value:function(e,t,a){var n=e.room.value;V.a.post(ne+"/api/point/setpoint/"+n,{value:t},{params:{user_email:a.data},headers:Object(te.a)()}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"get_ctrls",value:function(e,t){this.get_status(e,t)}},{key:"componentDidMount",value:function(e,t){var a,n=this.props,r=n.option,o=n.user_email;if(null!=o)"undefined"!==typeof e&&o===e.user_email||(this.get_status(r,o),this.get_temp_setpoint(r,o),a=setInterval(this.get_ctrls.bind(this),6e4,r,o));else if(localStorage.getItem("user_id")){var l=JSON.parse(localStorage.getItem("user_id"));this.get_status(r,l),this.get_temp_setpoint(r,l),a=setInterval(this.get_ctrls.bind(this),6e4,r,l)}this.setState({intervalId:a})}},{key:"render",value:function(){var e,t,a=this.state,n=a.status,o=a.temperature,l=a.loading,c=a.status_error,i=a.setpoint_error;return e=401===c?r.a.createElement(ke,{icon:"power off",color:"rgb(143, 201, 251)",title:"Occupancy Status",mobile:this.props.mobile,msg:"Unauthorized"}):400===c?r.a.createElement(ke,{icon:"power off",color:"rgb(143, 201, 251)",title:"Occupancy Status",mobile:this.props.mobile,msg:"No data found"}):r.a.createElement(Ie,{icon:"power off",color:"rgb(143, 201, 251)",title:"Occupancy Status",value:"unoccOccEnumSet.1"===n?"ON":"OFF",toggleStatus:this.toggleStatus,mobile:this.props.mobile,loading:l}),t=401===i?r.a.createElement(ke,{icon:"thermometer quarter",color:"rgb(248, 200, 46)",title:"Warm Cool Adjust",mobile:this.props.mobile,msg:"Unauthorized"}):400===i?r.a.createElement(ke,{icon:"thermometer quarter",color:"rgb(248, 200, 46)",title:"Warm Cool Adjust",mobile:this.props.mobile,msg:"No data found"}):r.a.createElement(je,{icon:"thermometer quarter",color:"rgb(248, 200, 46)",title:"Warm Cool Adjust",value:o,label:"\xb0F",handleChangeTemp:this.handleChangeTemp,mobile:this.props.mobile}),r.a.createElement(w.a,{container:this.props.mobile,stackable:this.props.mobile},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,null,r.a.createElement(ue.a,{horizontal:!0,style:{marginLeft:"15px",marginRight:"15px"}},r.a.createElement(g.a,{as:"h3",className:"segtitle"},this.props.title)))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:8},e),r.a.createElement(w.a.Column,{width:8},t)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.user_email;return null!=a&&a!==t.user_email?{user_email:a}:null}}]),a}(n.Component);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ne=function(e){Object(s.a)(a,e);var t=Ae(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={openMeter:!0,user_email:null},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("openMeter")&&this.setState({openMeter:JSON.parse(localStorage.getItem("openMeter"))})}},{key:"componentDidMount",value:function(){localStorage.getItem("openMeter")}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("openMeter",JSON.stringify(t.openMeter))}},{key:"render",value:function(){var e=this,t=this.props.option,a=this.state.user_email,n=[{key:t.college.value,content:t.college.value,link:!1},{key:t.campus.value,content:t.campus.value,link:!1},{key:t.building.value,content:t.building.value,link:!1},{key:t.room.value,content:t.room.value,link:!1}],o=this.state.openMeter,l=o?"angle up":"angle down",c=o?r.a.createElement(b.a,{as:O.a},r.a.createElement(w.a,{container:this.props.mobile,stackable:this.props.mobile},r.a.createElement(w.a.Row,{columns:2},r.a.createElement(w.a.Column,{width:8},r.a.createElement(we,{title:"Environment Information",option:t,mobile:this.props.mobile,user_email:a})),r.a.createElement(w.a.Column,{width:8},r.a.createElement(xe,{title:"HVAC Control",option:t,mobile:this.props.mobile,user_email:a}))))):r.a.createElement("div",null);return r.a.createElement(O.a.Group,null,r.a.createElement(O.a,null,r.a.createElement(se.a,{icon:"right angle",sections:n}),r.a.createElement(v.a,{icon:l,basic:!0,size:"mini",floated:"right",onClick:function(){e.setState({openMeter:!o})}})),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.user_email;return null!=a&&a!==t.user_email?{user_email:a}:null}}]),a}(n.Component);function Te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var De=function(e){Object(s.a)(a,e);var t=Te(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.onAddItem,n=t.onRemoveItem,o=t.changeBuilding,l=t.changeCampus,c=t.changeCollege,i=t.changeRoom,s=t.options,u=t.updateOptions,m=t.user_email,p=0===s.length?r.a.createElement(ie.a,{attached:"bottom",warning:!0},r.a.createElement(E.a,{name:"warning"}),"Please Add Room"):r.a.createElement("div",null);return r.a.createElement(w.a,{container:this.props.mobile,stackable:this.props.mobile},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,{width:4},r.a.createElement(fe,null)),r.a.createElement(w.a.Column,{width:12},r.a.createElement(pe,{updateOptions:u,mobile:this.props.mobile,options:s,onAddItem:a,onRemoveItem:n,changeBuilding:o,changeCampus:l,changeCollege:c,changeRoom:i,user_email:m}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,null,p,s.map(function(t){return r.a.createElement(Ne,{option:t,mobile:e.props.mobile,user_email:m})}))))}}]),a}(n.Component),ze=(a(482),a(483),a(496)),He=a(494);function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Be=function(e){Object(s.a)(a,e);var t=Me(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onAddItem,a=e.onRemoveItem,n=e.changeBuilding,o=e.changeCampus,l=e.changeCollege,c=e.changeRoom,i=e.options,s=e.updateOptions;return r.a.createElement(w.a,{container:this.props.mobile,stackable:this.props.mobile},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Column,null,r.a.createElement(O.a.Group,null,r.a.createElement(O.a,{inverted:!0,style:{backgroundColor:"#cabadf"}},r.a.createElement(g.a,{as:"h3",style:{color:"#563d7c"}},r.a.createElement(E.a,{name:"terminal"}),r.a.createElement(g.a.Content,null,"User Information Console"))),r.a.createElement(O.a.Group,{style:{marginTop:10}},r.a.createElement(b.a,{as:O.a,inverted:!0,style:{backgroundColor:"#cabadf"}},r.a.createElement(se.a,{sections:[{key:"General Information",content:"General Information",active:!0}],style:{color:"#563d7c"}})),r.a.createElement(b.a,{as:O.a},r.a.createElement(ze.a,null,r.a.createElement(ze.a.Field,null,r.a.createElement("label",null,"First Name"),r.a.createElement("input",{placeholder:"Renxu"})),r.a.createElement(ze.a.Field,null,r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{placeholder:"Hu"})),r.a.createElement(ze.a.Field,null,r.a.createElement(He.a,{label:"I agree to the Terms and Conditions"})),r.a.createElement(v.a,{color:"green",basic:!0,type:"submit"},"Change")))),r.a.createElement(O.a.Group,null,r.a.createElement(b.a,{as:O.a,inverted:!0,style:{backgroundColor:"#cabadf"}},r.a.createElement(se.a,{sections:[{key:"Room",content:"Room",active:!0}],style:{color:"#563d7c"}})),r.a.createElement(b.a,{as:O.a,style:{}},r.a.createElement(pe,{updateOptions:s,mobile:this.props.mobile,options:i,onAddItem:t,onRemoveItem:a,changeBuilding:n,changeCampus:o,changeCollege:l,changeRoom:c})))))))}}]),a}(n.Component);function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Fe=function(e){Object(s.a)(a,e);var t=Pe(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onAddItem,a=e.onRemoveItem,n=e.changeBuilding,o=e.changeCampus,l=e.changeCollege,c=e.changeRoom,i=e.account,s=e.switchAccount,u=e.user_email,m=i?r.a.createElement("div",{className:"main-container"},r.a.createElement(Be,{mobile:!1,options:this.props.options,updateOptions:this.props.updateOptions,onAddItem:t,onRemoveItem:a,changeBuilding:n,changeCampus:o,changeCollege:l,changeRoom:c,user_email:u})):r.a.createElement("div",{className:"main-container"},r.a.createElement(De,{mobile:!1,options:this.props.options,updateOptions:this.props.updateOptions,onAddItem:t,onRemoveItem:a,changeBuilding:n,changeCampus:o,changeCollege:l,changeRoom:c,user_email:u}));return r.a.createElement(b.a,{minWidth:1136},r.a.createElement(ce,{switchAccount:s,user_email:u}),r.a.createElement(ee,{switchAccount:s}),m)}}]),a}(n.Component),We=function(e){Object(s.a)(a,e);var t=Pe(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onAddItem,a=e.onRemoveItem,n=e.changeBuilding,o=e.changeCampus,l=e.changeCollege,c=e.changeRoom,i=e.account,s=e.switchAccount,u=e.user_email,m=i?r.a.createElement("div",{className:"mobile-container"},r.a.createElement(Be,{mobile:!0,options:this.props.options,updateOptions:this.props.updateOptions,onAddItem:t,onRemoveItem:a,changeBuilding:n,changeCampus:o,changeCollege:l,changeRoom:c,user_email:u})):r.a.createElement("div",{className:"mobile-container"},r.a.createElement(De,{mobile:!0,options:this.props.options,updateOptions:this.props.updateOptions,onAddItem:t,onRemoveItem:a,changeBuilding:n,changeCampus:o,changeCollege:l,changeRoom:c,user_email:u}));return r.a.createElement(b.a,{maxWidth:1135},r.a.createElement(ce,{switchAccount:s,user_email:u}),m)}}]),a}(n.Component),Le=function(e){var t=e.children,a=e.options,n=e.updateOptions,o=e.onAddItem,l=e.onRemoveItem,c=e.changeBuilding,i=e.changeCampus,s=e.changeCollege,u=e.changeRoom,m=e.account,p=e.switchAccount,h=e.user_email;return r.a.createElement("div",null,r.a.createElement(Fe,{options:a,updateOptions:n,onAddItem:o,onRemoveItem:l,changeBuilding:c,changeCampus:i,changeCollege:s,changeRoom:u,account:m,switchAccount:p,user_email:h},t),r.a.createElement(We,{options:a,updateOptions:n,onAddItem:o,onRemoveItem:l,changeBuilding:c,changeCampus:i,changeCollege:s,changeRoom:u,account:m,switchAccount:p,user_email:h},t))},Ue=function(e){Object(s.a)(a,e);var t=Pe(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={options:[],temp:{},account:!1,rooms:[],user_email:null,redirect:!1},e.sessionGet=function(e){var t=window.sessionStorage.getItem(e);if(null!==t){var a=JSON.parse(t);if(new Date(a.expirationDate)>new Date)return a.value;window.sessionStorage.removeItem(e)}return null},e.sessionSet=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,n={value:t,expirationDate:new Date((new Date).getTime()+6e4*a).toISOString()};window.sessionStorage.setItem(e,JSON.stringify(n))},e.loginRedirect=function(){e.state.redirect||e.setState({user_email:"admin",redirect:!0})},e.switchAccount=function(t){e.setState({account:t})},e.updateOptions=function(t){e.setState({options:t})},e.changeRoom=function(t,a){var n=a.value;e.setState(function(e){return{temp:Object(q.a)({},e.temp,{room:{value:n}})}})},e.changeCampus=function(t,a){var n=a.value;e.setState(function(e){return{temp:Object(q.a)({},e.temp,{campus:{value:n}})}})},e.changeBuilding=function(t,a){var n=a.value;e.setState(function(e){return{temp:Object(q.a)({},e.temp,{building:{value:n}})}})},e.changeCollege=function(t,a){var n=a.value;e.setState(function(e){return{temp:Object(q.a)({},e.temp,{college:{value:n}})}})},e.onAddItem=function(){e.setState(function(e){return e.rooms.some(function(t){return t.college===e.temp.college.value&&t.campus===e.temp.campus.value&&t.building===e.temp.building.value&&t.room===e.temp.room.value})&&null!=e.temp.college.value&&null!=e.temp.campus.value&&null!=e.temp.building.value&&null!=e.temp.room.value&&!e.options.some(function(t){return t.college.value===e.temp.college.value&&t.campus.value===e.temp.campus.value&&t.building.value===e.temp.building.value&&t.room.value===e.temp.room.value})&&e.options.push(e.temp),{options:e.options,temp:e.temp}})},e.onRemoveItem=function(t){e.setState(function(e){return{options:e.options.filter(function(e,a){return t!==a})}})},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("options")&&this.setState({options:JSON.parse(localStorage.getItem("options"))}),localStorage.getItem("temp")&&this.setState({temp:JSON.parse(localStorage.getItem("temp"))})}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("options",JSON.stringify(t.options)),localStorage.setItem("temp",JSON.stringify(t.temp))}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.user_email!==t.user_email&&V.a.get(ne+"/api/room",{params:{user_email:this.state.user_email.data},headers:Object(te.a)()}).then(function(e){if(null!=e){var t=e.data;a.setState({rooms:t.rooms})}})}},{key:"render",value:function(){var e=this.state,t=e.options,a=e.account,n=e.user_email;return r.a.createElement("div",null,this.loginRedirect(),r.a.createElement(Le,{options:t,updateOptions:this.updateOptions,onAddItem:this.onAddItem,onRemoveItem:this.onRemoveItem,changeBuilding:this.changeBuilding,changeCampus:this.changeCampus,changeCollege:this.changeCollege,changeRoom:this.changeRoom,account:a,switchAccount:this.switchAccount,user_email:n}))}}]),a}(n.Component);function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Je=function(e){Object(s.a)(a,e);var t=Ge(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=new URL(document.location).searchParams.get("token");return e&&window.sessionStorage.setItem("token",e),r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:Y}),r.a.createElement(h.b,{path:"/main",component:Ue}),r.a.createElement(h.b,{path:"/login",component:function(){return window.location.href="http://127.0.0.1:5000/api/log",null}}))))}}]),a}(n.Component),Ye=a(35),qe=a(500),Ve=Object(Ye.b)();l.a.render(r.a.createElement(h.c,{history:Ve},r.a.createElement(qe.a,null,r.a.createElement(Je,null))),document.getElementById("root"))}},[[287,1,2]]]);
//# sourceMappingURL=main.32e9d63c.chunk.js.map